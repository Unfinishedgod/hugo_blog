---
title: '[Python] Plotly와 주식 보조지표로 보는 주식 데이터 시각화 2 (이동평균선)'
author: 최의용
date: '2023-10-13'
slug: python-plotly-2
categories:
  - Python
tags:
  - plotly
---



<div>                        <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-2.20.0.min.js"></script>                <div id="b69ba7bd-47f5-4263-aa3a-d7f1913bb0d3" class="plotly-graph-div" style="height:400px; width:900px;"></div>            <script type="text/javascript">                                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("b69ba7bd-47f5-4263-aa3a-d7f1913bb0d3")) {                    Plotly.newPlot(                        "b69ba7bd-47f5-4263-aa3a-d7f1913bb0d3",                        [{"close":[59100,58100,57900,58100,56600,55300,55500,55400,57800,58200,59000,60700,60400,60500,60500,60800,61100,61000,60400,61500,61800,63400,63900,64600,63300,61000,61800,63500,63800,61600,61900,63100,63000,62800,62900,63200,62200,63700,62600,62700,62100,61100,62000,61300,60500,60600,60800,60500,61500,60700,60300,60100,59500,60000,59000,59800,59900,61300,60200,60300,61100,62300,63000,62100,62900,62700,63200,64000,63100,63600,63900,62300,65000,65700,65900,66000,66100,65100,65300,65600,65500,65300,65700,65200,63600,64100,64600,65500,65700,65400,65100,65900,65300,64600,64200,64100,64500,65400,65000,66200,68400,68500,68400,68500,68800,70300,72300,71400,70900,72200,71700,71000,70900,72000,71000,72000,71900,71500,71800,71200,71400,70500,71300,71600,72400,72600,72700,72400,72200,73000,73000,72000,71600,69900,69500,71500,71900,71900,73400,73300,72000,71700,71000,70300,70400,70000,69800,71700,70600,69800,71100,69900,68800,68300,68500,67600,68900,68000,67500,67300,67000,66700,66300,66600,66600,67100,68200,67100,66800,66800,67100,66900,71000,71200,70700,70000,70400,70300,70800,70500,70900,71700,72000,70200,69800,69600,68900,68800,69400,68600,68400,67500,66700,66000],"decreasing":{"line":{"color":"blue"}},"high":[59100,58400,58100,58400,57600,56200,56100,56000,58000,58800,59400,60700,61100,61200,61200,61200,61600,61500,61000,61500,62300,63700,63900,65000,64900,63700,62700,63900,64000,63000,62500,63300,63300,63000,63000,63900,63900,63700,63300,63000,62800,61800,62500,62600,60800,61400,61800,61200,61600,61400,60500,60800,59700,60200,59500,60300,60200,61300,61200,60700,61200,62300,63300,62800,62900,62700,63700,64000,64000,63800,64000,63600,65200,66300,66200,66200,66100,66600,65600,66000,65800,65300,65900,65700,65400,64300,65000,65900,66300,65600,65700,66300,65800,65500,65100,64600,64600,65900,65900,66200,68400,69000,68700,68700,70000,70400,72300,72500,71600,72200,72700,71600,70900,72300,72400,72200,72200,72300,71900,71700,71400,71200,71500,72200,72500,72600,72700,73400,72700,73200,73600,73300,72400,71400,70400,71500,72000,72600,73400,73500,73500,72800,71500,70400,70900,70500,70600,71700,72400,71000,71200,71000,70200,69100,69200,69100,69600,68500,68800,67900,67100,66800,66700,67100,67700,67100,68700,67400,67000,67200,67700,67200,71000,72900,71500,70800,70600,70300,70800,71000,71600,71800,72300,71700,70800,70300,69800,68900,69700,70000,69100,67700,67400,67300],"increasing":{"line":{"color":"red"}},"low":[58100,57700,57700,57900,56400,55300,55200,54500,55600,57600,57900,59600,59900,60300,59900,60400,60800,60600,59900,60400,61100,63000,63300,63900,63100,61000,61000,62600,63000,61600,61600,62400,62300,62400,62300,63200,62000,62400,62400,61800,62000,61000,61500,61300,60200,60500,60500,60500,60800,60700,59900,59900,59100,59300,59000,59600,59100,60600,60200,60100,60500,60600,62300,62000,62100,62200,63100,63700,63000,62800,63400,62300,63800,64700,65400,65300,65400,65000,64700,64800,65300,64600,65400,64800,63400,63300,63300,65000,65100,64900,64700,65400,65100,64300,64200,63600,63900,65300,64800,65700,67500,68000,68100,68000,68700,69500,71200,71000,70600,71600,71400,70800,70000,70800,70800,71600,71100,71300,70900,70900,70400,70400,70100,71600,71500,72000,72000,72400,71700,72600,72900,71900,71500,69800,69200,70100,71100,71900,72400,72800,72000,71300,70800,69400,69900,69800,68100,69300,70100,69800,70000,69800,68500,68200,67600,67400,67900,67800,67500,66900,66300,66000,65800,66300,66300,66400,67900,66900,66500,66600,67100,66400,66700,70700,70200,69700,69600,69600,70000,70400,70300,70800,71400,70200,69600,69500,68800,68300,68500,68400,68200,66700,66700,66000],"name":"","open":[58100,58200,58000,58000,57600,56000,55500,55400,55700,58200,58300,59700,60200,61000,61100,60500,61300,61200,60700,60500,62100,63500,63800,64400,64900,63500,62600,63200,63900,62800,61900,62800,63000,62600,62900,63600,63900,62500,62900,62900,62700,61500,61700,62300,60800,60800,60900,61000,61100,61400,60100,60500,59500,59900,59400,60000,59200,60800,61100,60500,61000,60600,62700,62600,62400,62500,63700,64000,64000,63400,63700,63500,63800,64800,66200,65800,65600,66600,65000,65900,65500,65100,65800,65300,65300,63600,64100,65200,66000,65100,65600,66300,65800,65500,64700,63700,64100,65800,65900,66000,67800,68400,68500,68100,69900,69800,71300,72400,70900,71700,72700,71300,70400,71100,72100,71700,72100,72100,71800,71300,70700,70700,70200,72000,71700,72500,72600,73100,72500,72700,73400,73000,71900,71100,70000,70200,71200,72400,72500,73200,73200,72700,71100,70400,70100,70000,69800,69900,71800,70900,70100,70700,69900,68800,67700,69000,68000,68300,68400,67500,66700,66300,66000,66600,67200,66700,68300,67100,66800,66900,67300,67100,66800,72900,70900,70700,70000,70200,70400,70800,71100,71200,71700,71300,70400,70000,69200,68300,68500,70000,68600,67400,67300,67100],"x":["2022-12-22T00:00:00","2022-12-23T00:00:00","2022-12-26T00:00:00","2022-12-27T00:00:00","2022-12-28T00:00:00","2022-12-29T00:00:00","2023-01-02T00:00:00","2023-01-03T00:00:00","2023-01-04T00:00:00","2023-01-05T00:00:00","2023-01-06T00:00:00","2023-01-09T00:00:00","2023-01-10T00:00:00","2023-01-11T00:00:00","2023-01-12T00:00:00","2023-01-13T00:00:00","2023-01-16T00:00:00","2023-01-17T00:00:00","2023-01-18T00:00:00","2023-01-19T00:00:00","2023-01-20T00:00:00","2023-01-25T00:00:00","2023-01-26T00:00:00","2023-01-27T00:00:00","2023-01-30T00:00:00","2023-01-31T00:00:00","2023-02-01T00:00:00","2023-02-02T00:00:00","2023-02-03T00:00:00","2023-02-06T00:00:00","2023-02-07T00:00:00","2023-02-08T00:00:00","2023-02-09T00:00:00","2023-02-10T00:00:00","2023-02-13T00:00:00","2023-02-14T00:00:00","2023-02-15T00:00:00","2023-02-16T00:00:00","2023-02-17T00:00:00","2023-02-20T00:00:00","2023-02-21T00:00:00","2023-02-22T00:00:00","2023-02-23T00:00:00","2023-02-24T00:00:00","2023-02-27T00:00:00","2023-02-28T00:00:00","2023-03-02T00:00:00","2023-03-03T00:00:00","2023-03-06T00:00:00","2023-03-07T00:00:00","2023-03-08T00:00:00","2023-03-09T00:00:00","2023-03-10T00:00:00","2023-03-13T00:00:00","2023-03-14T00:00:00","2023-03-15T00:00:00","2023-03-16T00:00:00","2023-03-17T00:00:00","2023-03-20T00:00:00","2023-03-21T00:00:00","2023-03-22T00:00:00","2023-03-23T00:00:00","2023-03-24T00:00:00","2023-03-27T00:00:00","2023-03-28T00:00:00","2023-03-29T00:00:00","2023-03-30T00:00:00","2023-03-31T00:00:00","2023-04-03T00:00:00","2023-04-04T00:00:00","2023-04-05T00:00:00","2023-04-06T00:00:00","2023-04-07T00:00:00","2023-04-10T00:00:00","2023-04-11T00:00:00","2023-04-12T00:00:00","2023-04-13T00:00:00","2023-04-14T00:00:00","2023-04-17T00:00:00","2023-04-18T00:00:00","2023-04-19T00:00:00","2023-04-20T00:00:00","2023-04-21T00:00:00","2023-04-24T00:00:00","2023-04-25T00:00:00","2023-04-26T00:00:00","2023-04-27T00:00:00","2023-04-28T00:00:00","2023-05-02T00:00:00","2023-05-03T00:00:00","2023-05-04T00:00:00","2023-05-08T00:00:00","2023-05-09T00:00:00","2023-05-10T00:00:00","2023-05-11T00:00:00","2023-05-12T00:00:00","2023-05-15T00:00:00","2023-05-16T00:00:00","2023-05-17T00:00:00","2023-05-18T00:00:00","2023-05-19T00:00:00","2023-05-22T00:00:00","2023-05-23T00:00:00","2023-05-24T00:00:00","2023-05-25T00:00:00","2023-05-26T00:00:00","2023-05-30T00:00:00","2023-05-31T00:00:00","2023-06-01T00:00:00","2023-06-02T00:00:00","2023-06-05T00:00:00","2023-06-07T00:00:00","2023-06-08T00:00:00","2023-06-09T00:00:00","2023-06-12T00:00:00","2023-06-13T00:00:00","2023-06-14T00:00:00","2023-06-15T00:00:00","2023-06-16T00:00:00","2023-06-19T00:00:00","2023-06-20T00:00:00","2023-06-21T00:00:00","2023-06-22T00:00:00","2023-06-23T00:00:00","2023-06-26T00:00:00","2023-06-27T00:00:00","2023-06-28T00:00:00","2023-06-29T00:00:00","2023-06-30T00:00:00","2023-07-03T00:00:00","2023-07-04T00:00:00","2023-07-05T00:00:00","2023-07-06T00:00:00","2023-07-07T00:00:00","2023-07-10T00:00:00","2023-07-11T00:00:00","2023-07-12T00:00:00","2023-07-13T00:00:00","2023-07-14T00:00:00","2023-07-17T00:00:00","2023-07-18T00:00:00","2023-07-19T00:00:00","2023-07-20T00:00:00","2023-07-21T00:00:00","2023-07-24T00:00:00","2023-07-25T00:00:00","2023-07-26T00:00:00","2023-07-27T00:00:00","2023-07-28T00:00:00","2023-07-31T00:00:00","2023-08-01T00:00:00","2023-08-02T00:00:00","2023-08-03T00:00:00","2023-08-04T00:00:00","2023-08-07T00:00:00","2023-08-08T00:00:00","2023-08-09T00:00:00","2023-08-10T00:00:00","2023-08-11T00:00:00","2023-08-14T00:00:00","2023-08-16T00:00:00","2023-08-17T00:00:00","2023-08-18T00:00:00","2023-08-21T00:00:00","2023-08-22T00:00:00","2023-08-23T00:00:00","2023-08-24T00:00:00","2023-08-25T00:00:00","2023-08-28T00:00:00","2023-08-29T00:00:00","2023-08-30T00:00:00","2023-08-31T00:00:00","2023-09-01T00:00:00","2023-09-04T00:00:00","2023-09-05T00:00:00","2023-09-06T00:00:00","2023-09-07T00:00:00","2023-09-08T00:00:00","2023-09-11T00:00:00","2023-09-12T00:00:00","2023-09-13T00:00:00","2023-09-14T00:00:00","2023-09-15T00:00:00","2023-09-18T00:00:00","2023-09-19T00:00:00","2023-09-20T00:00:00","2023-09-21T00:00:00","2023-09-22T00:00:00","2023-09-25T00:00:00","2023-09-26T00:00:00","2023-09-27T00:00:00","2023-10-04T00:00:00","2023-10-05T00:00:00","2023-10-06T00:00:00"],"type":"candlestick"},{"line":{"color":"blue","width":2},"name":"MA 5","opacity":0.7,"x":["2022-12-22T00:00:00","2022-12-23T00:00:00","2022-12-26T00:00:00","2022-12-27T00:00:00","2022-12-28T00:00:00","2022-12-29T00:00:00","2023-01-02T00:00:00","2023-01-03T00:00:00","2023-01-04T00:00:00","2023-01-05T00:00:00","2023-01-06T00:00:00","2023-01-09T00:00:00","2023-01-10T00:00:00","2023-01-11T00:00:00","2023-01-12T00:00:00","2023-01-13T00:00:00","2023-01-16T00:00:00","2023-01-17T00:00:00","2023-01-18T00:00:00","2023-01-19T00:00:00","2023-01-20T00:00:00","2023-01-25T00:00:00","2023-01-26T00:00:00","2023-01-27T00:00:00","2023-01-30T00:00:00","2023-01-31T00:00:00","2023-02-01T00:00:00","2023-02-02T00:00:00","2023-02-03T00:00:00","2023-02-06T00:00:00","2023-02-07T00:00:00","2023-02-08T00:00:00","2023-02-09T00:00:00","2023-02-10T00:00:00","2023-02-13T00:00:00","2023-02-14T00:00:00","2023-02-15T00:00:00","2023-02-16T00:00:00","2023-02-17T00:00:00","2023-02-20T00:00:00","2023-02-21T00:00:00","2023-02-22T00:00:00","2023-02-23T00:00:00","2023-02-24T00:00:00","2023-02-27T00:00:00","2023-02-28T00:00:00","2023-03-02T00:00:00","2023-03-03T00:00:00","2023-03-06T00:00:00","2023-03-07T00:00:00","2023-03-08T00:00:00","2023-03-09T00:00:00","2023-03-10T00:00:00","2023-03-13T00:00:00","2023-03-14T00:00:00","2023-03-15T00:00:00","2023-03-16T00:00:00","2023-03-17T00:00:00","2023-03-20T00:00:00","2023-03-21T00:00:00","2023-03-22T00:00:00","2023-03-23T00:00:00","2023-03-24T00:00:00","2023-03-27T00:00:00","2023-03-28T00:00:00","2023-03-29T00:00:00","2023-03-30T00:00:00","2023-03-31T00:00:00","2023-04-03T00:00:00","2023-04-04T00:00:00","2023-04-05T00:00:00","2023-04-06T00:00:00","2023-04-07T00:00:00","2023-04-10T00:00:00","2023-04-11T00:00:00","2023-04-12T00:00:00","2023-04-13T00:00:00","2023-04-14T00:00:00","2023-04-17T00:00:00","2023-04-18T00:00:00","2023-04-19T00:00:00","2023-04-20T00:00:00","2023-04-21T00:00:00","2023-04-24T00:00:00","2023-04-25T00:00:00","2023-04-26T00:00:00","2023-04-27T00:00:00","2023-04-28T00:00:00","2023-05-02T00:00:00","2023-05-03T00:00:00","2023-05-04T00:00:00","2023-05-08T00:00:00","2023-05-09T00:00:00","2023-05-10T00:00:00","2023-05-11T00:00:00","2023-05-12T00:00:00","2023-05-15T00:00:00","2023-05-16T00:00:00","2023-05-17T00:00:00","2023-05-18T00:00:00","2023-05-19T00:00:00","2023-05-22T00:00:00","2023-05-23T00:00:00","2023-05-24T00:00:00","2023-05-25T00:00:00","2023-05-26T00:00:00","2023-05-30T00:00:00","2023-05-31T00:00:00","2023-06-01T00:00:00","2023-06-02T00:00:00","2023-06-05T00:00:00","2023-06-07T00:00:00","2023-06-08T00:00:00","2023-06-09T00:00:00","2023-06-12T00:00:00","2023-06-13T00:00:00","2023-06-14T00:00:00","2023-06-15T00:00:00","2023-06-16T00:00:00","2023-06-19T00:00:00","2023-06-20T00:00:00","2023-06-21T00:00:00","2023-06-22T00:00:00","2023-06-23T00:00:00","2023-06-26T00:00:00","2023-06-27T00:00:00","2023-06-28T00:00:00","2023-06-29T00:00:00","2023-06-30T00:00:00","2023-07-03T00:00:00","2023-07-04T00:00:00","2023-07-05T00:00:00","2023-07-06T00:00:00","2023-07-07T00:00:00","2023-07-10T00:00:00","2023-07-11T00:00:00","2023-07-12T00:00:00","2023-07-13T00:00:00","2023-07-14T00:00:00","2023-07-17T00:00:00","2023-07-18T00:00:00","2023-07-19T00:00:00","2023-07-20T00:00:00","2023-07-21T00:00:00","2023-07-24T00:00:00","2023-07-25T00:00:00","2023-07-26T00:00:00","2023-07-27T00:00:00","2023-07-28T00:00:00","2023-07-31T00:00:00","2023-08-01T00:00:00","2023-08-02T00:00:00","2023-08-03T00:00:00","2023-08-04T00:00:00","2023-08-07T00:00:00","2023-08-08T00:00:00","2023-08-09T00:00:00","2023-08-10T00:00:00","2023-08-11T00:00:00","2023-08-14T00:00:00","2023-08-16T00:00:00","2023-08-17T00:00:00","2023-08-18T00:00:00","2023-08-21T00:00:00","2023-08-22T00:00:00","2023-08-23T00:00:00","2023-08-24T00:00:00","2023-08-25T00:00:00","2023-08-28T00:00:00","2023-08-29T00:00:00","2023-08-30T00:00:00","2023-08-31T00:00:00","2023-09-01T00:00:00","2023-09-04T00:00:00","2023-09-05T00:00:00","2023-09-06T00:00:00","2023-09-07T00:00:00","2023-09-08T00:00:00","2023-09-11T00:00:00","2023-09-12T00:00:00","2023-09-13T00:00:00","2023-09-14T00:00:00","2023-09-15T00:00:00","2023-09-18T00:00:00","2023-09-19T00:00:00","2023-09-20T00:00:00","2023-09-21T00:00:00","2023-09-22T00:00:00","2023-09-25T00:00:00","2023-09-26T00:00:00","2023-09-27T00:00:00","2023-10-04T00:00:00","2023-10-05T00:00:00","2023-10-06T00:00:00"],"y":[58940.0,58660.0,58340.0,58240.0,57960.0,57200.0,56680.0,56180.0,56120.0,56440.0,57180.0,58220.0,59220.0,59760.0,60220.0,60580.0,60660.0,60780.0,60760.0,60960.0,61160.0,61620.0,62200.0,63040.0,63400.0,63240.0,62920.0,62840.0,62680.0,62340.0,62520.0,62780.0,62680.0,62480.0,62740.0,63000.0,62820.0,62960.0,62920.0,62880.0,62660.0,62440.0,62100.0,61840.0,61400.0,61100.0,61040.0,60740.0,60780.0,60820.0,60760.0,60620.0,60420.0,60120.0,59780.0,59680.0,59640.0,60000.0,60040.0,60300.0,60560.0,61040.0,61380.0,61760.0,62280.0,62600.0,62780.0,62980.0,63180.0,63320.0,63560.0,63380.0,63580.0,64100.0,64560.0,64980.0,65740.0,65760.0,65680.0,65620.0,65520.0,65360.0,65480.0,65460.0,65060.0,64780.0,64640.0,64600.0,64700.0,65060.0,65260.0,65520.0,65480.0,65260.0,65020.0,64820.0,64540.0,64560.0,64640.0,65040.0,65900.0,66700.0,67300.0,68000.0,68520.0,68900.0,69660.0,70260.0,70740.0,71420.0,71700.0,71440.0,71340.0,71560.0,71320.0,71380.0,71560.0,71680.0,71640.0,71680.0,71560.0,71280.0,71240.0,71200.0,71440.0,71680.0,72120.0,72340.0,72460.0,72580.0,72660.0,72520.0,72360.0,71900.0,71200.0,70900.0,70880.0,70940.0,71640.0,72400.0,72500.0,72460.0,72280.0,71660.0,71080.0,70680.0,70300.0,70440.0,70500.0,70380.0,70600.0,70620.0,70040.0,69580.0,69320.0,68620.0,68420.0,68260.0,68100.0,67860.0,67740.0,67300.0,66960.0,66780.0,66640.0,66660.0,66960.0,67120.0,67160.0,67200.0,67200.0,66940.0,67720.0,68600.0,69380.0,69960.0,70660.0,70520.0,70440.0,70400.0,70580.0,70840.0,71180.0,71060.0,70920.0,70660.0,70100.0,69460.0,69300.0,69060.0,68820.0,68540.0,68120.0,67440.0],"type":"scatter"},{"line":{"color":"orange","width":2},"name":"MA 20","opacity":0.7,"x":["2022-12-22T00:00:00","2022-12-23T00:00:00","2022-12-26T00:00:00","2022-12-27T00:00:00","2022-12-28T00:00:00","2022-12-29T00:00:00","2023-01-02T00:00:00","2023-01-03T00:00:00","2023-01-04T00:00:00","2023-01-05T00:00:00","2023-01-06T00:00:00","2023-01-09T00:00:00","2023-01-10T00:00:00","2023-01-11T00:00:00","2023-01-12T00:00:00","2023-01-13T00:00:00","2023-01-16T00:00:00","2023-01-17T00:00:00","2023-01-18T00:00:00","2023-01-19T00:00:00","2023-01-20T00:00:00","2023-01-25T00:00:00","2023-01-26T00:00:00","2023-01-27T00:00:00","2023-01-30T00:00:00","2023-01-31T00:00:00","2023-02-01T00:00:00","2023-02-02T00:00:00","2023-02-03T00:00:00","2023-02-06T00:00:00","2023-02-07T00:00:00","2023-02-08T00:00:00","2023-02-09T00:00:00","2023-02-10T00:00:00","2023-02-13T00:00:00","2023-02-14T00:00:00","2023-02-15T00:00:00","2023-02-16T00:00:00","2023-02-17T00:00:00","2023-02-20T00:00:00","2023-02-21T00:00:00","2023-02-22T00:00:00","2023-02-23T00:00:00","2023-02-24T00:00:00","2023-02-27T00:00:00","2023-02-28T00:00:00","2023-03-02T00:00:00","2023-03-03T00:00:00","2023-03-06T00:00:00","2023-03-07T00:00:00","2023-03-08T00:00:00","2023-03-09T00:00:00","2023-03-10T00:00:00","2023-03-13T00:00:00","2023-03-14T00:00:00","2023-03-15T00:00:00","2023-03-16T00:00:00","2023-03-17T00:00:00","2023-03-20T00:00:00","2023-03-21T00:00:00","2023-03-22T00:00:00","2023-03-23T00:00:00","2023-03-24T00:00:00","2023-03-27T00:00:00","2023-03-28T00:00:00","2023-03-29T00:00:00","2023-03-30T00:00:00","2023-03-31T00:00:00","2023-04-03T00:00:00","2023-04-04T00:00:00","2023-04-05T00:00:00","2023-04-06T00:00:00","2023-04-07T00:00:00","2023-04-10T00:00:00","2023-04-11T00:00:00","2023-04-12T00:00:00","2023-04-13T00:00:00","2023-04-14T00:00:00","2023-04-17T00:00:00","2023-04-18T00:00:00","2023-04-19T00:00:00","2023-04-20T00:00:00","2023-04-21T00:00:00","2023-04-24T00:00:00","2023-04-25T00:00:00","2023-04-26T00:00:00","2023-04-27T00:00:00","2023-04-28T00:00:00","2023-05-02T00:00:00","2023-05-03T00:00:00","2023-05-04T00:00:00","2023-05-08T00:00:00","2023-05-09T00:00:00","2023-05-10T00:00:00","2023-05-11T00:00:00","2023-05-12T00:00:00","2023-05-15T00:00:00","2023-05-16T00:00:00","2023-05-17T00:00:00","2023-05-18T00:00:00","2023-05-19T00:00:00","2023-05-22T00:00:00","2023-05-23T00:00:00","2023-05-24T00:00:00","2023-05-25T00:00:00","2023-05-26T00:00:00","2023-05-30T00:00:00","2023-05-31T00:00:00","2023-06-01T00:00:00","2023-06-02T00:00:00","2023-06-05T00:00:00","2023-06-07T00:00:00","2023-06-08T00:00:00","2023-06-09T00:00:00","2023-06-12T00:00:00","2023-06-13T00:00:00","2023-06-14T00:00:00","2023-06-15T00:00:00","2023-06-16T00:00:00","2023-06-19T00:00:00","2023-06-20T00:00:00","2023-06-21T00:00:00","2023-06-22T00:00:00","2023-06-23T00:00:00","2023-06-26T00:00:00","2023-06-27T00:00:00","2023-06-28T00:00:00","2023-06-29T00:00:00","2023-06-30T00:00:00","2023-07-03T00:00:00","2023-07-04T00:00:00","2023-07-05T00:00:00","2023-07-06T00:00:00","2023-07-07T00:00:00","2023-07-10T00:00:00","2023-07-11T00:00:00","2023-07-12T00:00:00","2023-07-13T00:00:00","2023-07-14T00:00:00","2023-07-17T00:00:00","2023-07-18T00:00:00","2023-07-19T00:00:00","2023-07-20T00:00:00","2023-07-21T00:00:00","2023-07-24T00:00:00","2023-07-25T00:00:00","2023-07-26T00:00:00","2023-07-27T00:00:00","2023-07-28T00:00:00","2023-07-31T00:00:00","2023-08-01T00:00:00","2023-08-02T00:00:00","2023-08-03T00:00:00","2023-08-04T00:00:00","2023-08-07T00:00:00","2023-08-08T00:00:00","2023-08-09T00:00:00","2023-08-10T00:00:00","2023-08-11T00:00:00","2023-08-14T00:00:00","2023-08-16T00:00:00","2023-08-17T00:00:00","2023-08-18T00:00:00","2023-08-21T00:00:00","2023-08-22T00:00:00","2023-08-23T00:00:00","2023-08-24T00:00:00","2023-08-25T00:00:00","2023-08-28T00:00:00","2023-08-29T00:00:00","2023-08-30T00:00:00","2023-08-31T00:00:00","2023-09-01T00:00:00","2023-09-04T00:00:00","2023-09-05T00:00:00","2023-09-06T00:00:00","2023-09-07T00:00:00","2023-09-08T00:00:00","2023-09-11T00:00:00","2023-09-12T00:00:00","2023-09-13T00:00:00","2023-09-14T00:00:00","2023-09-15T00:00:00","2023-09-18T00:00:00","2023-09-19T00:00:00","2023-09-20T00:00:00","2023-09-21T00:00:00","2023-09-22T00:00:00","2023-09-25T00:00:00","2023-09-26T00:00:00","2023-09-27T00:00:00","2023-10-04T00:00:00","2023-10-05T00:00:00","2023-10-06T00:00:00"],"y":[59930.0,59785.0,59675.0,59550.0,59270.0,58905.0,58660.0,58415.0,58345.0,58310.0,58300.0,58315.0,58360.0,58400.0,58400.0,58475.0,58555.0,58630.0,58720.0,58895.0,59030.0,59295.0,59595.0,59920.0,60255.0,60540.0,60855.0,61260.0,61560.0,61730.0,61875.0,61995.0,62125.0,62240.0,62360.0,62480.0,62535.0,62670.0,62780.0,62840.0,62855.0,62740.0,62645.0,62480.0,62340.0,62320.0,62270.0,62120.0,62005.0,61960.0,61880.0,61730.0,61555.0,61415.0,61220.0,61050.0,60935.0,60815.0,60695.0,60575.0,60525.0,60585.0,60635.0,60675.0,60795.0,60900.0,61020.0,61195.0,61275.0,61420.0,61600.0,61710.0,61985.0,62270.0,62615.0,62925.0,63235.0,63425.0,63680.0,63945.0,64165.0,64315.0,64450.0,64605.0,64640.0,64710.0,64780.0,64855.0,64985.0,65075.0,65135.0,65315.0,65330.0,65275.0,65190.0,65095.0,65015.0,65030.0,65015.0,65045.0,65190.0,65350.0,65485.0,65650.0,65910.0,66220.0,66605.0,66900.0,67160.0,67500.0,67830.0,68085.0,68365.0,68735.0,69075.0,69470.0,69840.0,70145.0,70485.0,70735.0,70885.0,70985.0,71130.0,71285.0,71465.0,71580.0,71600.0,71650.0,71715.0,71755.0,71820.0,71870.0,71905.0,71800.0,71725.0,71700.0,71700.0,71720.0,71800.0,71905.0,71935.0,71995.0,71980.0,71915.0,71815.0,71685.0,71540.0,71505.0,71425.0,71265.0,71170.0,71065.0,70925.0,70845.0,70795.0,70600.0,70450.0,70255.0,69960.0,69660.0,69410.0,69160.0,68925.0,68740.0,68550.0,68405.0,68325.0,68095.0,67905.0,67755.0,67555.0,67405.0,67515.0,67660.0,67770.0,67890.0,67965.0,68080.0,68245.0,68405.0,68600.0,68850.0,69135.0,69315.0,69475.0,69600.0,69635.0,69720.0,69850.0,69940.0,70005.0,70035.0,69820.0,69560.0],"type":"scatter"},{"line":{"color":"purple","width":2},"name":"MA 60","opacity":0.7,"x":["2022-12-22T00:00:00","2022-12-23T00:00:00","2022-12-26T00:00:00","2022-12-27T00:00:00","2022-12-28T00:00:00","2022-12-29T00:00:00","2023-01-02T00:00:00","2023-01-03T00:00:00","2023-01-04T00:00:00","2023-01-05T00:00:00","2023-01-06T00:00:00","2023-01-09T00:00:00","2023-01-10T00:00:00","2023-01-11T00:00:00","2023-01-12T00:00:00","2023-01-13T00:00:00","2023-01-16T00:00:00","2023-01-17T00:00:00","2023-01-18T00:00:00","2023-01-19T00:00:00","2023-01-20T00:00:00","2023-01-25T00:00:00","2023-01-26T00:00:00","2023-01-27T00:00:00","2023-01-30T00:00:00","2023-01-31T00:00:00","2023-02-01T00:00:00","2023-02-02T00:00:00","2023-02-03T00:00:00","2023-02-06T00:00:00","2023-02-07T00:00:00","2023-02-08T00:00:00","2023-02-09T00:00:00","2023-02-10T00:00:00","2023-02-13T00:00:00","2023-02-14T00:00:00","2023-02-15T00:00:00","2023-02-16T00:00:00","2023-02-17T00:00:00","2023-02-20T00:00:00","2023-02-21T00:00:00","2023-02-22T00:00:00","2023-02-23T00:00:00","2023-02-24T00:00:00","2023-02-27T00:00:00","2023-02-28T00:00:00","2023-03-02T00:00:00","2023-03-03T00:00:00","2023-03-06T00:00:00","2023-03-07T00:00:00","2023-03-08T00:00:00","2023-03-09T00:00:00","2023-03-10T00:00:00","2023-03-13T00:00:00","2023-03-14T00:00:00","2023-03-15T00:00:00","2023-03-16T00:00:00","2023-03-17T00:00:00","2023-03-20T00:00:00","2023-03-21T00:00:00","2023-03-22T00:00:00","2023-03-23T00:00:00","2023-03-24T00:00:00","2023-03-27T00:00:00","2023-03-28T00:00:00","2023-03-29T00:00:00","2023-03-30T00:00:00","2023-03-31T00:00:00","2023-04-03T00:00:00","2023-04-04T00:00:00","2023-04-05T00:00:00","2023-04-06T00:00:00","2023-04-07T00:00:00","2023-04-10T00:00:00","2023-04-11T00:00:00","2023-04-12T00:00:00","2023-04-13T00:00:00","2023-04-14T00:00:00","2023-04-17T00:00:00","2023-04-18T00:00:00","2023-04-19T00:00:00","2023-04-20T00:00:00","2023-04-21T00:00:00","2023-04-24T00:00:00","2023-04-25T00:00:00","2023-04-26T00:00:00","2023-04-27T00:00:00","2023-04-28T00:00:00","2023-05-02T00:00:00","2023-05-03T00:00:00","2023-05-04T00:00:00","2023-05-08T00:00:00","2023-05-09T00:00:00","2023-05-10T00:00:00","2023-05-11T00:00:00","2023-05-12T00:00:00","2023-05-15T00:00:00","2023-05-16T00:00:00","2023-05-17T00:00:00","2023-05-18T00:00:00","2023-05-19T00:00:00","2023-05-22T00:00:00","2023-05-23T00:00:00","2023-05-24T00:00:00","2023-05-25T00:00:00","2023-05-26T00:00:00","2023-05-30T00:00:00","2023-05-31T00:00:00","2023-06-01T00:00:00","2023-06-02T00:00:00","2023-06-05T00:00:00","2023-06-07T00:00:00","2023-06-08T00:00:00","2023-06-09T00:00:00","2023-06-12T00:00:00","2023-06-13T00:00:00","2023-06-14T00:00:00","2023-06-15T00:00:00","2023-06-16T00:00:00","2023-06-19T00:00:00","2023-06-20T00:00:00","2023-06-21T00:00:00","2023-06-22T00:00:00","2023-06-23T00:00:00","2023-06-26T00:00:00","2023-06-27T00:00:00","2023-06-28T00:00:00","2023-06-29T00:00:00","2023-06-30T00:00:00","2023-07-03T00:00:00","2023-07-04T00:00:00","2023-07-05T00:00:00","2023-07-06T00:00:00","2023-07-07T00:00:00","2023-07-10T00:00:00","2023-07-11T00:00:00","2023-07-12T00:00:00","2023-07-13T00:00:00","2023-07-14T00:00:00","2023-07-17T00:00:00","2023-07-18T00:00:00","2023-07-19T00:00:00","2023-07-20T00:00:00","2023-07-21T00:00:00","2023-07-24T00:00:00","2023-07-25T00:00:00","2023-07-26T00:00:00","2023-07-27T00:00:00","2023-07-28T00:00:00","2023-07-31T00:00:00","2023-08-01T00:00:00","2023-08-02T00:00:00","2023-08-03T00:00:00","2023-08-04T00:00:00","2023-08-07T00:00:00","2023-08-08T00:00:00","2023-08-09T00:00:00","2023-08-10T00:00:00","2023-08-11T00:00:00","2023-08-14T00:00:00","2023-08-16T00:00:00","2023-08-17T00:00:00","2023-08-18T00:00:00","2023-08-21T00:00:00","2023-08-22T00:00:00","2023-08-23T00:00:00","2023-08-24T00:00:00","2023-08-25T00:00:00","2023-08-28T00:00:00","2023-08-29T00:00:00","2023-08-30T00:00:00","2023-08-31T00:00:00","2023-09-01T00:00:00","2023-09-04T00:00:00","2023-09-05T00:00:00","2023-09-06T00:00:00","2023-09-07T00:00:00","2023-09-08T00:00:00","2023-09-11T00:00:00","2023-09-12T00:00:00","2023-09-13T00:00:00","2023-09-14T00:00:00","2023-09-15T00:00:00","2023-09-18T00:00:00","2023-09-19T00:00:00","2023-09-20T00:00:00","2023-09-21T00:00:00","2023-09-22T00:00:00","2023-09-25T00:00:00","2023-09-26T00:00:00","2023-09-27T00:00:00","2023-10-04T00:00:00","2023-10-05T00:00:00","2023-10-06T00:00:00"],"y":[58913.333333333336,59000.0,59088.333333333336,59171.666666666664,59195.0,59183.333333333336,59170.0,59156.666666666664,59196.666666666664,59236.666666666664,59300.0,59373.333333333336,59436.666666666664,59503.333333333336,59581.666666666664,59670.0,59756.666666666664,59815.0,59860.0,59895.0,59933.333333333336,60035.0,60110.0,60186.666666666664,60248.333333333336,60278.333333333336,60318.333333333336,60373.333333333336,60406.666666666664,60400.0,60425.0,60428.333333333336,60446.666666666664,60453.333333333336,60456.666666666664,60486.666666666664,60493.333333333336,60531.666666666664,60565.0,60593.333333333336,60605.0,60606.666666666664,60638.333333333336,60650.0,60621.666666666664,60588.333333333336,60595.0,60598.333333333336,60636.666666666664,60666.666666666664,60685.0,60680.0,60680.0,60685.0,60660.0,60668.333333333336,60675.0,60705.0,60731.666666666664,60770.0,60803.333333333336,60873.333333333336,60958.333333333336,61025.0,61130.0,61253.333333333336,61381.666666666664,61525.0,61613.333333333336,61703.333333333336,61785.0,61811.666666666664,61888.333333333336,61975.0,62065.0,62151.666666666664,62235.0,62303.333333333336,62385.0,62453.333333333336,62515.0,62546.666666666664,62576.666666666664,62586.666666666664,62591.666666666664,62643.333333333336,62690.0,62723.333333333336,62755.0,62818.333333333336,62871.666666666664,62918.333333333336,62956.666666666664,62986.666666666664,63008.333333333336,63023.333333333336,63061.666666666664,63090.0,63130.0,63188.333333333336,63293.333333333336,63416.666666666664,63523.333333333336,63643.333333333336,63781.666666666664,63943.333333333336,64135.0,64316.666666666664,64473.333333333336,64665.0,64855.0,65036.666666666664,65226.666666666664,65426.666666666664,65626.66666666667,65830.0,66030.0,66200.0,66393.33333333333,66575.0,66746.66666666667,66883.33333333333,67021.66666666667,67180.0,67338.33333333333,67503.33333333333,67661.66666666667,67801.66666666667,67953.33333333333,68110.0,68261.66666666667,68423.33333333333,68533.33333333333,68603.33333333333,68663.33333333333,68755.0,68851.66666666667,68965.0,69100.0,69228.33333333333,69336.66666666667,69443.33333333333,69531.66666666667,69616.66666666667,69730.0,69828.33333333333,69915.0,70018.33333333333,70100.0,70173.33333333333,70273.33333333333,70340.0,70398.33333333333,70460.0,70531.66666666667,70590.0,70663.33333333333,70706.66666666667,70748.33333333333,70766.66666666667,70743.33333333333,70713.33333333333,70678.33333333333,70646.66666666667,70610.0,70556.66666666667,70488.33333333333,70416.66666666667,70348.33333333333,70258.33333333333,70181.66666666667,70113.33333333333,70115.0,70101.66666666667,70096.66666666667,70063.33333333333,70038.33333333333,70018.33333333333,70001.66666666667,69990.0,69981.66666666667,70001.66666666667,70013.33333333333,69990.0,69946.66666666667,69896.66666666667,69833.33333333333,69773.33333333333,69726.66666666667,69653.33333333333,69576.66666666667,69501.66666666667,69420.0,69355.0],"type":"scatter"},{"line":{"color":"green","width":2},"name":"MA 120","opacity":0.7,"x":["2022-12-22T00:00:00","2022-12-23T00:00:00","2022-12-26T00:00:00","2022-12-27T00:00:00","2022-12-28T00:00:00","2022-12-29T00:00:00","2023-01-02T00:00:00","2023-01-03T00:00:00","2023-01-04T00:00:00","2023-01-05T00:00:00","2023-01-06T00:00:00","2023-01-09T00:00:00","2023-01-10T00:00:00","2023-01-11T00:00:00","2023-01-12T00:00:00","2023-01-13T00:00:00","2023-01-16T00:00:00","2023-01-17T00:00:00","2023-01-18T00:00:00","2023-01-19T00:00:00","2023-01-20T00:00:00","2023-01-25T00:00:00","2023-01-26T00:00:00","2023-01-27T00:00:00","2023-01-30T00:00:00","2023-01-31T00:00:00","2023-02-01T00:00:00","2023-02-02T00:00:00","2023-02-03T00:00:00","2023-02-06T00:00:00","2023-02-07T00:00:00","2023-02-08T00:00:00","2023-02-09T00:00:00","2023-02-10T00:00:00","2023-02-13T00:00:00","2023-02-14T00:00:00","2023-02-15T00:00:00","2023-02-16T00:00:00","2023-02-17T00:00:00","2023-02-20T00:00:00","2023-02-21T00:00:00","2023-02-22T00:00:00","2023-02-23T00:00:00","2023-02-24T00:00:00","2023-02-27T00:00:00","2023-02-28T00:00:00","2023-03-02T00:00:00","2023-03-03T00:00:00","2023-03-06T00:00:00","2023-03-07T00:00:00","2023-03-08T00:00:00","2023-03-09T00:00:00","2023-03-10T00:00:00","2023-03-13T00:00:00","2023-03-14T00:00:00","2023-03-15T00:00:00","2023-03-16T00:00:00","2023-03-17T00:00:00","2023-03-20T00:00:00","2023-03-21T00:00:00","2023-03-22T00:00:00","2023-03-23T00:00:00","2023-03-24T00:00:00","2023-03-27T00:00:00","2023-03-28T00:00:00","2023-03-29T00:00:00","2023-03-30T00:00:00","2023-03-31T00:00:00","2023-04-03T00:00:00","2023-04-04T00:00:00","2023-04-05T00:00:00","2023-04-06T00:00:00","2023-04-07T00:00:00","2023-04-10T00:00:00","2023-04-11T00:00:00","2023-04-12T00:00:00","2023-04-13T00:00:00","2023-04-14T00:00:00","2023-04-17T00:00:00","2023-04-18T00:00:00","2023-04-19T00:00:00","2023-04-20T00:00:00","2023-04-21T00:00:00","2023-04-24T00:00:00","2023-04-25T00:00:00","2023-04-26T00:00:00","2023-04-27T00:00:00","2023-04-28T00:00:00","2023-05-02T00:00:00","2023-05-03T00:00:00","2023-05-04T00:00:00","2023-05-08T00:00:00","2023-05-09T00:00:00","2023-05-10T00:00:00","2023-05-11T00:00:00","2023-05-12T00:00:00","2023-05-15T00:00:00","2023-05-16T00:00:00","2023-05-17T00:00:00","2023-05-18T00:00:00","2023-05-19T00:00:00","2023-05-22T00:00:00","2023-05-23T00:00:00","2023-05-24T00:00:00","2023-05-25T00:00:00","2023-05-26T00:00:00","2023-05-30T00:00:00","2023-05-31T00:00:00","2023-06-01T00:00:00","2023-06-02T00:00:00","2023-06-05T00:00:00","2023-06-07T00:00:00","2023-06-08T00:00:00","2023-06-09T00:00:00","2023-06-12T00:00:00","2023-06-13T00:00:00","2023-06-14T00:00:00","2023-06-15T00:00:00","2023-06-16T00:00:00","2023-06-19T00:00:00","2023-06-20T00:00:00","2023-06-21T00:00:00","2023-06-22T00:00:00","2023-06-23T00:00:00","2023-06-26T00:00:00","2023-06-27T00:00:00","2023-06-28T00:00:00","2023-06-29T00:00:00","2023-06-30T00:00:00","2023-07-03T00:00:00","2023-07-04T00:00:00","2023-07-05T00:00:00","2023-07-06T00:00:00","2023-07-07T00:00:00","2023-07-10T00:00:00","2023-07-11T00:00:00","2023-07-12T00:00:00","2023-07-13T00:00:00","2023-07-14T00:00:00","2023-07-17T00:00:00","2023-07-18T00:00:00","2023-07-19T00:00:00","2023-07-20T00:00:00","2023-07-21T00:00:00","2023-07-24T00:00:00","2023-07-25T00:00:00","2023-07-26T00:00:00","2023-07-27T00:00:00","2023-07-28T00:00:00","2023-07-31T00:00:00","2023-08-01T00:00:00","2023-08-02T00:00:00","2023-08-03T00:00:00","2023-08-04T00:00:00","2023-08-07T00:00:00","2023-08-08T00:00:00","2023-08-09T00:00:00","2023-08-10T00:00:00","2023-08-11T00:00:00","2023-08-14T00:00:00","2023-08-16T00:00:00","2023-08-17T00:00:00","2023-08-18T00:00:00","2023-08-21T00:00:00","2023-08-22T00:00:00","2023-08-23T00:00:00","2023-08-24T00:00:00","2023-08-25T00:00:00","2023-08-28T00:00:00","2023-08-29T00:00:00","2023-08-30T00:00:00","2023-08-31T00:00:00","2023-09-01T00:00:00","2023-09-04T00:00:00","2023-09-05T00:00:00","2023-09-06T00:00:00","2023-09-07T00:00:00","2023-09-08T00:00:00","2023-09-11T00:00:00","2023-09-12T00:00:00","2023-09-13T00:00:00","2023-09-14T00:00:00","2023-09-15T00:00:00","2023-09-18T00:00:00","2023-09-19T00:00:00","2023-09-20T00:00:00","2023-09-21T00:00:00","2023-09-22T00:00:00","2023-09-25T00:00:00","2023-09-26T00:00:00","2023-09-27T00:00:00","2023-10-04T00:00:00","2023-10-05T00:00:00","2023-10-06T00:00:00"],"y":[58871.666666666664,58887.5,58894.166666666664,58901.666666666664,58903.333333333336,58879.166666666664,58852.5,58824.166666666664,58821.666666666664,58823.333333333336,58835.833333333336,58841.666666666664,58829.166666666664,58825.833333333336,58825.833333333336,58817.5,58815.833333333336,58815.0,58804.166666666664,58801.666666666664,58800.833333333336,58817.5,58839.166666666664,58863.333333333336,58880.0,58875.833333333336,58878.333333333336,58900.833333333336,58932.5,58953.333333333336,58970.0,58994.166666666664,59010.833333333336,59030.833333333336,59042.5,59061.666666666664,59080.0,59118.333333333336,59148.333333333336,59173.333333333336,59190.833333333336,59211.666666666664,59238.333333333336,59251.666666666664,59269.166666666664,59295.0,59325.833333333336,59354.166666666664,59400.0,59442.5,59460.833333333336,59488.333333333336,59517.5,59549.166666666664,59570.833333333336,59604.166666666664,59642.5,59700.0,59747.5,59800.833333333336,59858.333333333336,59936.666666666664,60023.333333333336,60098.333333333336,60162.5,60218.333333333336,60275.833333333336,60340.833333333336,60405.0,60470.0,60542.5,60592.5,60662.5,60739.166666666664,60823.333333333336,60910.833333333336,60995.833333333336,61059.166666666664,61122.5,61174.166666666664,61224.166666666664,61290.833333333336,61343.333333333336,61386.666666666664,61420.0,61460.833333333336,61504.166666666664,61548.333333333336,61580.833333333336,61609.166666666664,61648.333333333336,61673.333333333336,61701.666666666664,61720.0,61732.5,61755.0,61777.5,61810.833333333336,61847.5,61890.833333333336,61949.166666666664,62011.666666666664,62080.833333333336,62146.666666666664,62201.666666666664,62265.833333333336,62365.0,62457.5,62555.0,62665.833333333336,62770.0,62858.333333333336,62953.333333333336,63055.833333333336,63143.333333333336,63249.166666666664,63352.5,63452.5,63562.5,63672.5,63775.0,63878.333333333336,63990.0,64102.5,64234.166666666664,64378.333333333336,64521.666666666664,64663.333333333336,64783.333333333336,64906.666666666664,65023.333333333336,65117.5,65210.833333333336,65289.166666666664,65364.166666666664,65453.333333333336,65543.33333333333,65634.16666666667,65742.5,65840.83333333333,65925.83333333333,65995.0,66054.16666666667,66101.66666666667,66160.83333333333,66235.83333333333,66302.5,66370.83333333333,66427.5,66495.83333333333,66572.5,66629.16666666667,66677.5,66723.33333333333,66770.0,66806.66666666667,66862.5,66898.33333333333,66939.16666666667,66977.5,67018.33333333333,67065.0,67100.83333333333,67145.0,67195.83333333333,67250.0,67311.66666666667,67366.66666666667,67410.83333333333,67461.66666666667,67518.33333333333,67575.0,67670.83333333333,67764.16666666667,67861.66666666667,67946.66666666667,68034.16666666667,68109.16666666667,68197.5,68282.5,68364.16666666667,68442.5,68517.5,68585.0,68642.5,68700.0,68747.5,68787.5,68840.0,68881.66666666667,68919.16666666667,68962.5,68976.66666666667,68979.16666666667],"type":"scatter"}],                        {"template":{"data":{"barpolar":[{"marker":{"line":{"color":"rgb(17,17,17)","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"bar":[{"error_x":{"color":"#f2f5fa"},"error_y":{"color":"#f2f5fa"},"marker":{"line":{"color":"rgb(17,17,17)","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"carpet":[{"aaxis":{"endlinecolor":"#A2B1C6","gridcolor":"#506784","linecolor":"#506784","minorgridcolor":"#506784","startlinecolor":"#A2B1C6"},"baxis":{"endlinecolor":"#A2B1C6","gridcolor":"#506784","linecolor":"#506784","minorgridcolor":"#506784","startlinecolor":"#A2B1C6"},"type":"carpet"}],"choropleth":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"choropleth"}],"contourcarpet":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"contourcarpet"}],"contour":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"contour"}],"heatmapgl":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"heatmapgl"}],"heatmap":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"heatmap"}],"histogram2dcontour":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"histogram2dcontour"}],"histogram2d":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"histogram2d"}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"mesh3d":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"mesh3d"}],"parcoords":[{"line":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"parcoords"}],"pie":[{"automargin":true,"type":"pie"}],"scatter3d":[{"line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatter3d"}],"scattercarpet":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattercarpet"}],"scattergeo":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattergeo"}],"scattergl":[{"marker":{"line":{"color":"#283442"}},"type":"scattergl"}],"scattermapbox":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattermapbox"}],"scatterpolargl":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterpolargl"}],"scatterpolar":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterpolar"}],"scatter":[{"marker":{"line":{"color":"#283442"}},"type":"scatter"}],"scatterternary":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterternary"}],"surface":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"surface"}],"table":[{"cells":{"fill":{"color":"#506784"},"line":{"color":"rgb(17,17,17)"}},"header":{"fill":{"color":"#2a3f5f"},"line":{"color":"rgb(17,17,17)"}},"type":"table"}]},"layout":{"annotationdefaults":{"arrowcolor":"#f2f5fa","arrowhead":0,"arrowwidth":1},"autotypenumbers":"strict","coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]],"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]},"colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#f2f5fa"},"geo":{"bgcolor":"rgb(17,17,17)","lakecolor":"rgb(17,17,17)","landcolor":"rgb(17,17,17)","showlakes":true,"showland":true,"subunitcolor":"#506784"},"hoverlabel":{"align":"left"},"hovermode":"closest","mapbox":{"style":"dark"},"paper_bgcolor":"rgb(17,17,17)","plot_bgcolor":"rgb(17,17,17)","polar":{"angularaxis":{"gridcolor":"#506784","linecolor":"#506784","ticks":""},"bgcolor":"rgb(17,17,17)","radialaxis":{"gridcolor":"#506784","linecolor":"#506784","ticks":""}},"scene":{"xaxis":{"backgroundcolor":"rgb(17,17,17)","gridcolor":"#506784","gridwidth":2,"linecolor":"#506784","showbackground":true,"ticks":"","zerolinecolor":"#C8D4E3"},"yaxis":{"backgroundcolor":"rgb(17,17,17)","gridcolor":"#506784","gridwidth":2,"linecolor":"#506784","showbackground":true,"ticks":"","zerolinecolor":"#C8D4E3"},"zaxis":{"backgroundcolor":"rgb(17,17,17)","gridcolor":"#506784","gridwidth":2,"linecolor":"#506784","showbackground":true,"ticks":"","zerolinecolor":"#C8D4E3"}},"shapedefaults":{"line":{"color":"#f2f5fa"}},"sliderdefaults":{"bgcolor":"#C8D4E3","bordercolor":"rgb(17,17,17)","borderwidth":1,"tickwidth":0},"ternary":{"aaxis":{"gridcolor":"#506784","linecolor":"#506784","ticks":""},"baxis":{"gridcolor":"#506784","linecolor":"#506784","ticks":""},"bgcolor":"rgb(17,17,17)","caxis":{"gridcolor":"#506784","linecolor":"#506784","ticks":""}},"title":{"x":0.05},"updatemenudefaults":{"bgcolor":"#506784","borderwidth":0},"xaxis":{"automargin":true,"gridcolor":"#283442","linecolor":"#506784","ticks":"","title":{"standoff":15},"zerolinecolor":"#283442","zerolinewidth":2},"yaxis":{"automargin":true,"gridcolor":"#283442","linecolor":"#506784","ticks":"","title":{"standoff":15},"zerolinecolor":"#283442","zerolinewidth":2}}},"shapes":[{"line":{"color":"red","dash":"dot"},"type":"line","x0":1673308800000.0,"x1":1673308800000.0,"xref":"x","y0":0,"y1":1,"yref":"y domain"},{"line":{"color":"red","dash":"dot"},"type":"line","x0":1679443200000.0,"x1":1679443200000.0,"xref":"x","y0":0,"y1":1,"yref":"y domain"},{"line":{"color":"red","dash":"dot"},"type":"line","x0":1683158400000.0,"x1":1683158400000.0,"xref":"x","y0":0,"y1":1,"yref":"y domain"},{"line":{"color":"red","dash":"dot"},"type":"line","x0":1684454400000.0,"x1":1684454400000.0,"xref":"x","y0":0,"y1":1,"yref":"y domain"},{"line":{"color":"red","dash":"dot"},"type":"line","x0":1687824000000.0,"x1":1687824000000.0,"xref":"x","y0":0,"y1":1,"yref":"y domain"},{"line":{"color":"red","dash":"dot"},"type":"line","x0":1689552000000.0,"x1":1689552000000.0,"xref":"x","y0":0,"y1":1,"yref":"y domain"},{"line":{"color":"red","dash":"dot"},"type":"line","x0":1693526400000.0,"x1":1693526400000.0,"xref":"x","y0":0,"y1":1,"yref":"y domain"},{"line":{"color":"blue","dash":"dot"},"type":"line","x0":1676937600000.0,"x1":1676937600000.0,"xref":"x","y0":0,"y1":1,"yref":"y domain"},{"line":{"color":"blue","dash":"dot"},"type":"line","x0":1682553600000.0,"x1":1682553600000.0,"xref":"x","y0":0,"y1":1,"yref":"y domain"},{"line":{"color":"blue","dash":"dot"},"type":"line","x0":1683676800000.0,"x1":1683676800000.0,"xref":"x","y0":0,"y1":1,"yref":"y domain"},{"line":{"color":"blue","dash":"dot"},"type":"line","x0":1687478400000.0,"x1":1687478400000.0,"xref":"x","y0":0,"y1":1,"yref":"y domain"},{"line":{"color":"blue","dash":"dot"},"type":"line","x0":1688947200000.0,"x1":1688947200000.0,"xref":"x","y0":0,"y1":1,"yref":"y domain"},{"line":{"color":"blue","dash":"dot"},"type":"line","x0":1689897600000.0,"x1":1689897600000.0,"xref":"x","y0":0,"y1":1,"yref":"y domain"},{"line":{"color":"blue","dash":"dot"},"type":"line","x0":1695340800000.0,"x1":1695340800000.0,"xref":"x","y0":0,"y1":1,"yref":"y domain"},{"line":{"color":"orange","dash":"dot"},"type":"line","x0":1675036800000.0,"x1":1675036800000.0,"xref":"x","y0":0,"y1":1,"yref":"y domain"},{"line":{"color":"orange","dash":"dot"},"type":"line","x0":1680825600000.0,"x1":1680825600000.0,"xref":"x","y0":0,"y1":1,"yref":"y domain"},{"line":{"color":"orange","dash":"dot"},"type":"line","x0":1695600000000.0,"x1":1695600000000.0,"xref":"x","y0":0,"y1":1,"yref":"y domain"},{"line":{"color":"purple","dash":"dot"},"type":"line","x0":1672272000000.0,"x1":1672272000000.0,"xref":"x","y0":0,"y1":1,"yref":"y domain"},{"line":{"color":"purple","dash":"dot"},"type":"line","x0":1679270400000.0,"x1":1679270400000.0,"xref":"x","y0":0,"y1":1,"yref":"y domain"},{"line":{"color":"purple","dash":"dot"},"type":"line","x0":1691539200000.0,"x1":1691539200000.0,"xref":"x","y0":0,"y1":1,"yref":"y domain"},{"fillcolor":"red","line":{"width":0},"opacity":0.1,"type":"rect","x0":"2023-01-30T00:00:00","x1":"2023-02-20T00:00:00","xref":"x","y0":0,"y1":1,"yref":"y domain"},{"fillcolor":"red","line":{"width":0},"opacity":0.1,"type":"rect","x0":"2023-04-07T00:00:00","x1":"2023-04-26T00:00:00","xref":"x","y0":0,"y1":1,"yref":"y domain"},{"fillcolor":"red","line":{"width":0},"opacity":0.1,"type":"rect","x0":"2023-05-04T00:00:00","x1":"2023-05-09T00:00:00","xref":"x","y0":0,"y1":1,"yref":"y domain"},{"fillcolor":"red","line":{"width":0},"opacity":0.1,"type":"rect","x0":"2023-05-19T00:00:00","x1":"2023-06-22T00:00:00","xref":"x","y0":0,"y1":1,"yref":"y domain"},{"fillcolor":"red","line":{"width":0},"opacity":0.1,"type":"rect","x0":"2023-06-27T00:00:00","x1":"2023-07-07T00:00:00","xref":"x","y0":0,"y1":1,"yref":"y domain"},{"fillcolor":"red","line":{"width":0},"opacity":0.1,"type":"rect","x0":"2023-07-17T00:00:00","x1":"2023-07-20T00:00:00","xref":"x","y0":0,"y1":1,"yref":"y domain"}],"annotations":[{"showarrow":false,"text":"5-20 -><br> \uace8\ub4e0\ud06c\ub85c\uc2a4","x":1673308800000.0,"xanchor":"right","xref":"x","y":1,"yanchor":"top","yref":"y domain"},{"showarrow":false,"text":"5-20 -><br> \uace8\ub4e0\ud06c\ub85c\uc2a4","x":1679443200000.0,"xanchor":"right","xref":"x","y":1,"yanchor":"top","yref":"y domain"},{"showarrow":false,"text":"5-20 -><br> \uace8\ub4e0\ud06c\ub85c\uc2a4","x":1683158400000.0,"xanchor":"right","xref":"x","y":1,"yanchor":"top","yref":"y domain"},{"showarrow":false,"text":"5-20 -><br> \uace8\ub4e0\ud06c\ub85c\uc2a4","x":1684454400000.0,"xanchor":"right","xref":"x","y":1,"yanchor":"top","yref":"y domain"},{"showarrow":false,"text":"5-20 -><br> \uace8\ub4e0\ud06c\ub85c\uc2a4","x":1687824000000.0,"xanchor":"right","xref":"x","y":1,"yanchor":"top","yref":"y domain"},{"showarrow":false,"text":"5-20 -><br> \uace8\ub4e0\ud06c\ub85c\uc2a4","x":1689552000000.0,"xanchor":"right","xref":"x","y":1,"yanchor":"top","yref":"y domain"},{"showarrow":false,"text":"5-20 -><br> \uace8\ub4e0\ud06c\ub85c\uc2a4","x":1693526400000.0,"xanchor":"right","xref":"x","y":1,"yanchor":"top","yref":"y domain"},{"showarrow":false,"text":"5-20 -> <br>  \ub370\ub4dc\ud06c\ub85c\uc2a4","x":1676937600000.0,"xanchor":"right","xref":"x","y":0,"yanchor":"bottom","yref":"y domain"},{"showarrow":false,"text":"5-20 -> <br>  \ub370\ub4dc\ud06c\ub85c\uc2a4","x":1682553600000.0,"xanchor":"right","xref":"x","y":0,"yanchor":"bottom","yref":"y domain"},{"showarrow":false,"text":"5-20 -> <br>  \ub370\ub4dc\ud06c\ub85c\uc2a4","x":1683676800000.0,"xanchor":"right","xref":"x","y":0,"yanchor":"bottom","yref":"y domain"},{"showarrow":false,"text":"5-20 -> <br>  \ub370\ub4dc\ud06c\ub85c\uc2a4","x":1687478400000.0,"xanchor":"right","xref":"x","y":0,"yanchor":"bottom","yref":"y domain"},{"showarrow":false,"text":"5-20 -> <br>  \ub370\ub4dc\ud06c\ub85c\uc2a4","x":1688947200000.0,"xanchor":"right","xref":"x","y":0,"yanchor":"bottom","yref":"y domain"},{"showarrow":false,"text":"5-20 -> <br>  \ub370\ub4dc\ud06c\ub85c\uc2a4","x":1689897600000.0,"xanchor":"right","xref":"x","y":0,"yanchor":"bottom","yref":"y domain"},{"showarrow":false,"text":"5-20 -> <br>  \ub370\ub4dc\ud06c\ub85c\uc2a4","x":1695340800000.0,"xanchor":"right","xref":"x","y":0,"yanchor":"bottom","yref":"y domain"},{"showarrow":false,"text":"20-60 -> <br> \uace8\ub4e0\ud06c\ub85c\uc2a4","x":1675036800000.0,"xanchor":"right","xref":"x","y":1,"yanchor":"top","yref":"y domain"},{"showarrow":false,"text":"20-60 -> <br> \uace8\ub4e0\ud06c\ub85c\uc2a4","x":1680825600000.0,"xanchor":"right","xref":"x","y":1,"yanchor":"top","yref":"y domain"},{"showarrow":false,"text":"20-60 -> <br> \uace8\ub4e0\ud06c\ub85c\uc2a4","x":1695600000000.0,"xanchor":"right","xref":"x","y":1,"yanchor":"top","yref":"y domain"},{"showarrow":false,"text":"20-60 -> <br>  \ub370\ub4dc\ud06c\ub85c\uc2a4","x":1672272000000.0,"xanchor":"right","xref":"x","y":0,"yanchor":"bottom","yref":"y domain"},{"showarrow":false,"text":"20-60 -> <br>  \ub370\ub4dc\ud06c\ub85c\uc2a4","x":1679270400000.0,"xanchor":"right","xref":"x","y":0,"yanchor":"bottom","yref":"y domain"},{"showarrow":false,"text":"20-60 -> <br>  \ub370\ub4dc\ud06c\ub85c\uc2a4","x":1691539200000.0,"xanchor":"right","xref":"x","y":0,"yanchor":"bottom","yref":"y domain"},{"showarrow":false,"text":" ","x":"2023-01-30T00:00:00","xanchor":"left","xref":"x","y":1,"yanchor":"top","yref":"y domain"},{"showarrow":false,"text":" ","x":"2023-04-07T00:00:00","xanchor":"left","xref":"x","y":1,"yanchor":"top","yref":"y domain"},{"showarrow":false,"text":" ","x":"2023-05-04T00:00:00","xanchor":"left","xref":"x","y":1,"yanchor":"top","yref":"y domain"},{"showarrow":false,"text":" ","x":"2023-05-19T00:00:00","xanchor":"left","xref":"x","y":1,"yanchor":"top","yref":"y domain"},{"showarrow":false,"text":" ","x":"2023-06-27T00:00:00","xanchor":"left","xref":"x","y":1,"yanchor":"top","yref":"y domain"},{"showarrow":false,"text":" ","x":"2023-07-17T00:00:00","xanchor":"left","xref":"x","y":1,"yanchor":"top","yref":"y domain"}],"title":{"text":"\uc0bc\uc131\uc804\uc790 \uc8fc\uac00","font":{"family":"\ub9d1\uc740\uace0\ub515","size":18}},"hoverlabel":{"font":{"size":15},"bgcolor":"black"},"xaxis":{"rangeslider":{"visible":false},"tickangle":90,"rangebreaks":[{"bounds":["sat","mon"]}]},"yaxis":{"tickformat":",","title":{"text":"Price"}},"legend":{"orientation":"h","xanchor":"center","x":0.5,"y":1.2},"hovermode":"x unified","barmode":"group","margin":{"b":10,"l":10,"r":10,"t":100},"height":400,"width":900},                        {"responsive": true}                    )                };                            </script>        </div>
<p>이번엔 Plotly로 만든 주식 시각화에 이동평균선을 추가 해보자. 그리고 이동평균선에 대해서도 알아보려고 한다. 여기서 이동평균선은 알파스퀘어 에서 <strong>잘 정리</strong> 해둔 내용을 참고 하려고 한다.</p>
<div id="알파스퀘어-기술적-지표" class="section level1">
<h1>알파스퀘어 기술적 지표</h1>
<ul>
<li><a href="https://alphasquare.oopy.io/board/technical-indicator/sma">알파스퀘어-이동평균선</a></li>
</ul>
</div>
<div id="이동평균선moving-average" class="section level1">
<h1>이동평균선(Moving Average)</h1>
<p>차트의 기술적 분석을 할 때 쓰이는 가장 기본적인 보조 지표이다. 이평선이라고도 부르며 이는 일정 기간 동안의 가격의 평균을 나타낸다. 특정 기간동안 가격의 평균을 이어서 그렸기 때문에 주식의 불규칙적인 변화를 완만하게 변화시켜서 파악하기 용이하다. 이동평균의 종류에는 크게 단순이동평균(SMA), 가중이동평균(WMA), 지수이동평균(EMA)가 있으며, 이번에 우리가 사용하게 될 지표는 단순이동평균(SMA)이다.</p>
<div id="기간" class="section level2">
<h2>기간</h2>
<p>일반적으로 이동평균선은 5일, 20일, 60일, 120일, 240일을 사용한다. 각각의 의미는 다음과 같다.</p>
<ul>
<li>5일: 일주일을 나타낸다. 7일중 토,일은 빠지기 때문</li>
<li>20일: 한달을 나타낸다. 역시 한달 중에 주말을 제외 하면 20일이 평일 이기 때문</li>
<li>60일: 한 분기를 나타낸다.</li>
<li>120일: 반년을 나타낸다.</li>
<li>240일: 1년을 의미한다.</li>
</ul>
</div>
<div id="이동평균선의-한계" class="section level2">
<h2>이동평균선의 한계</h2>
<p>가장 쉽게 접할수 있는 보조지표이지만 한계는 뚜렷하다. 과거의 평균을 냈기 때문에 앞으로 예측에 대한 기대가 떨어진다. 이를 수행성 지표라고 하는데, 이 이동평균선의 약점을 많이 보완한 것이 앞으로 자주 나올 예정이다.</p>
</div>
</div>
<div id="분석방법" class="section level1">
<h1>분석방법</h1>
<div id="골든크로스-데드크로스" class="section level2">
<h2>골든크로스, 데드크로스</h2>
<p>이동평균선을 사용한 분석방법중 골든크로스, 데드크로스 라느 전략이 있다. 단기이동평균선이 장기 이동평균선을 돌파 하는 시점대 매수 또는 매도 신호로 파악 하는 것이며 이는 다음과 같다.</p>
<ul>
<li>골든크로스: 단기 이동평균선이 장기 이동평균선 상향 돌파 (매수 신호)</li>
<li>데드크로스: 단기 이동평균선이 장기 이동평균선 하향 돌파 (매도 신호)</li>
</ul>
</div>
<div id="정배열-역배열" class="section level2">
<h2>정배열, 역배열</h2>
<p>이번에는 배열에 대해 알아보자. 각각의 의미는 다음과 같다.</p>
<ul>
<li>정배열: 단기 이동평균선 &gt; 중기 이동평균선 &gt; 장기 이동평균선</li>
<li>역배열: 단기 이동평균선 &lt; 중기 이동평균선 &lt; 장기 이동평균선</li>
</ul>
<p>위의 의미를 파악해보면 정배열은 단기 이동평균선이 가장 높기 때문에 매수를 하기 적절한 시점으로 여겨진다고 한다. 반대로 역배열에서는 단기 이동평균선이 가장 떨어 지기 때문에 매도하는것으로 권장된다고 한다.</p>
</div>
</div>
<div id="파이썬을-사용한-시각화" class="section level1">
<h1>파이썬을 사용한 시각화</h1>
<p>이제 Plotly를 사용하여 이를 구현 해보도록 하자.</p>
<div id="데이터-수집" class="section level2">
<h2>데이터 수집</h2>
<p>데이터 수집 부분은 다음과 같다. 앞으로 수집은 이 기본 코드를 사용할 예정</p>
<pre class="python"><code>import plotly.graph_objects as go

from ta.trend import MACD
from ta.momentum import StochasticOscillator

import numpy as np
import pandas as pd
from pykrx import stock
from pykrx import bond
from time import sleep

from datetime import datetime
from datetime import timedelta
import os
import time
from plotly.subplots import make_subplots
import glob


ticker_nm = &#39;005930&#39;
start_date  = &#39;20200101&#39;
today_date1 = &#39;20231006&#39;

df_raw = stock.get_market_ohlcv(start_date, today_date1, ticker_nm)
df_raw = df_raw.reset_index()
df_raw[&#39;ticker&#39;] = ticker_nm

df_raw.columns = [&#39;date&#39;, &#39;open&#39;, &#39;high&#39;, &#39;low&#39;, &#39;close&#39;, &#39;volume&#39;,&#39;trading_value&#39;,&#39;price_change_percentage&#39;, &#39;ticker&#39;]</code></pre>
</div>
<div id="전처리" class="section level2">
<h2>전처리</h2>
<div id="이동평균선" class="section level3">
<h3>이동평균선</h3>
<p>우선 이동평균선을 추가 해주자. 종가(close)를 기준으로 rolling() 함수를 사용하여 계산해준다. 그리고 이를 각각 MA5, MA20, MA60, MA120으로 만들어 준다. 추가로 이 전처리한 데이터들은 Airflow에서 처리 하는 과정은 나중에 업로드 할 예정이다.</p>
<pre class="python"><code>df_raw[&#39;MA5&#39;] = df_raw[&#39;close&#39;].rolling(window=5).mean()
df_raw[&#39;MA20&#39;] = df_raw[&#39;close&#39;].rolling(window=20).mean()
df_raw[&#39;MA60&#39;] = df_raw[&#39;close&#39;].rolling(window=60).mean()
df_raw[&#39;MA120&#39;] = df_raw[&#39;close&#39;].rolling(window=120).mean()</code></pre>
</div>
<div id="날짜" class="section level3">
<h3>날짜</h3>
<p>데이터는 2019년도 부터 수집 되어있지만 이동평균 120일을 하게 되면 NA가 생긴다 (처음 120일 정도) 따라서 이는 미리 처리하고 2023년 3월 부터 시각화에 볼 수 있도록 처리 해주었다.</p>
<pre class="python"><code>df_raw = df_raw[df_raw[&#39;date&#39;] &gt; &#39;2023-03-01&#39;]
df_raw = df_raw.reset_index(drop = True)</code></pre>
</div>
<div id="골든크로스-데드크로스-1" class="section level3">
<h3>골든크로스, 데드크로스</h3>
<p>이제 골든크로스와, 데드크로스를 구현하기위한 작업을 진행 해보자. 골든크로스와 데드크로스를 구분하기 위한 이동평균선 교차점은 5,20,60만 사용해주었다.</p>
<pre class="python"><code>df_raw[&#39;MA5-20&#39;] = df_raw[&#39;MA5&#39;] - df_raw[&#39;MA20&#39;]
df_raw[&#39;MA20-60&#39;] = df_raw[&#39;MA20&#39;] - df_raw[&#39;MA60&#39;]
df_raw[&#39;MA60-120&#39;] = df_raw[&#39;MA60&#39;] - df_raw[&#39;MA120&#39;]</code></pre>
<p>이렇게 구한 각각의 MA5-20, MA20-60을 가지고 양수에서 음수 그리고 음수에서 양수로 바뀌는 인덱스를 구해 보자. 각각의 인덱스는 다음과 같이 지정 해주었다.
idx_5_20_gold_cross, idx_5_20_dead_cross, idx_20_60_gold_cross, idx_20_60_dead_cross</p>
<pre class="python"><code># 골든 크로스 5-20
# 음수에서 양수로 바뀌는 모든 인덱스 찾기
idx_5_20_gold_cross = [idx for idx in range(len(df_raw)) if df_raw[&quot;MA5-20&quot;].iloc[idx] &gt; 0 and df_raw[&quot;MA5-20&quot;].iloc[idx - 1] &lt;= 0]

# 데드 크로스 5-20
# 양수에서 음수로 바뀌는 모든 인덱스 찾기
idx_5_20_dead_cross = [idx for idx in range(len(df_raw)) if df_raw[&quot;MA5-20&quot;].iloc[idx] &lt; 0 and df_raw[&quot;MA5-20&quot;].iloc[idx - 1] &gt;= 0]

# 골든 크로스 20-60
# 음수에서 양수로 바뀌는 모든 인덱스 찾기
idx_20_60_gold_cross = [idx for idx in range(len(df_raw)) if df_raw[&quot;MA20-60&quot;].iloc[idx] &gt; 0 and df_raw[&quot;MA20-60&quot;].iloc[idx - 1] &lt;= 0]

# 골든 크로스 20-60
# 음수에서 양수로 바뀌는 모든 인덱스 찾기
idx_20_60_dead_cross = [idx for idx in range(len(df_raw)) if df_raw[&quot;MA20-60&quot;].iloc[idx] &lt; 0 and df_raw[&quot;MA20-60&quot;].iloc[idx - 1] &gt;= 0]</code></pre>
<p>이렇게 지정 해주었던 교차점 인덱스는 정리해서 cross_df로 만들어 주자. 이는 Plotly시각화에 적용할 색상등등을 설정해줄 예정이다.</p>
<pre class="python"><code>idx_5_20_gold_cross_df = pd.DataFrame({
    &#39;index&#39;:idx_5_20_gold_cross,
    &#39;name&#39;:&#39;5-20 -&gt;&lt;br&gt; 골든크로스&#39;,
    &#39;color&#39;:&#39;red&#39;,
    &#39;position&#39;:&#39;top left&#39;})

idx_5_20_dead_cross_df = pd.DataFrame({
    &#39;index&#39;:idx_5_20_dead_cross,
    &#39;name&#39;:&#39;5-20 -&gt; &lt;br&gt;  데드크로스&#39;,
    &#39;color&#39;:&#39;blue&#39;,
    &#39;position&#39;:&#39;bottom left&#39;})

idx_20_60_gold_cross_df = pd.DataFrame({
    &#39;index&#39;:idx_20_60_gold_cross,
    &#39;name&#39;:&#39;20-60 -&gt; &lt;br&gt; 골든크로스&#39;,
    &#39;color&#39;:&#39;orange&#39;,
    &#39;position&#39;:&#39;top left&#39;})

idx_20_60_dead_cross_df = pd.DataFrame({
    &#39;index&#39;:idx_20_60_dead_cross,
    &#39;name&#39;:&#39;20-60 -&gt; &lt;br&gt;  데드크로스&#39;,
    &#39;color&#39;:&#39;purple&#39;,
    &#39;position&#39;:&#39;bottom left&#39;})
    
cross_df = pd.concat([idx_5_20_gold_cross_df, idx_5_20_dead_cross_df,
                      idx_20_60_gold_cross_df, idx_20_60_dead_cross_df])
cross_df = cross_df.reset_index(drop = True)</code></pre>
</div>
<div id="정배열-역배열-1" class="section level3">
<h3>정배열, 역배열</h3>
<p>이번에는 정배열과 역배열 구간에 대해 만들어 주자. 앞서 만들었던 MA5-20, MA20-60, MA60-120들을 0보다 모두 크거다 모두 작은 구간을 만들어 주었다. 정배열의 경우 모두 0보다 크면 True, 역배열의 경우 모두 0보다 작으면 True가 된다.</p>
<pre class="python"><code>ascending_sq  = (df_raw[&#39;MA5-20&#39;] &gt; 0) &amp; \
(df_raw[&#39;MA20-60&#39;] &gt; 0) &amp; \
(df_raw[&#39;MA60-120&#39;] &gt; 0) 

descending_sq  = (df_raw[&#39;MA5-20&#39;] &lt; 0) &amp; \
(df_raw[&#39;MA20-60&#39;] &lt; 0) &amp; \
(df_raw[&#39;MA60-120&#39;] &lt; 0) </code></pre>
<p>그리고 나서 이 각각의 True, False값에 대해 True 부분의 첫번째와 마지막 부분을 찾아준다. 이렇게 정배열 하는 구간의 첫번째와 마지막 인덱스를 찾았다.</p>
<pre class="python"><code>ascending_intervals = []
i = 0
while i &lt; len(ascending_sq):
    if ascending_sq[i]:
        start_index = i
        while i &lt; len(ascending_sq) and ascending_sq[i]:
            i += 1
        end_index = i - 1
        ascending_intervals.append((start_index, end_index))

    else:
        i += 1

ascending_intervals        </code></pre>
<pre><code>## [(26, 39), (44, 46), (54, 76), (79, 87), (93, 96)]</code></pre>
<p>이번에는 역배열 하는 구간의 첫번째와 마지막번째의 인덱스를 찾았다.</p>
<pre class="python"><code>descending_intervals = []
i = 0
while i &lt; len(descending_sq):
    if descending_sq[i]:
        start_index = i
        while i &lt; len(descending_sq) and descending_sq[i]:
            i += 1
        end_index = i - 1
        descending_intervals.append((start_index, end_index))

    else:
        i += 1

descending_intervals        </code></pre>
<pre><code>## []</code></pre>
</div>
</div>
<div id="시각화" class="section level2">
<h2>시각화</h2>
<p>이제 Plotly를 사용해보자. 우선 go.Figure() 를 통해 figure를 생성 해주고 시각화를 하나씩 추가 할 예정이다.</p>
<pre class="python"><code>fig = go.Figure()</code></pre>
<p>이제 fig.add_trace()를 사용하여 캔들스틱을 추가 해준다.</p>
<pre class="python"><code># 캔들스틱차트
fig.add_trace(go.Candlestick(
    x=df_raw[&#39;date&#39;],
    open=df_raw[&#39;open&#39;],
    high=df_raw[&#39;high&#39;],
    low=df_raw[&#39;low&#39;],
    close=df_raw[&#39;close&#39;],
    increasing_line_color= &#39;red&#39;, decreasing_line_color= &#39;blue&#39;, 
    name = &#39;&#39;))</code></pre>
<p>이제 이동평균선 MA5, MA20, MA60, MA120 라인을 하나씩 추가 해준다. 이번에도 fig.add_trace()를 사용해서 하나씩 추가.</p>
<pre class="python"><code># MA 5 
fig.add_trace(go.Scatter(
    x=df_raw[&#39;date&#39;],
    y=df_raw[&#39;MA5&#39;],
    opacity=0.7,
    line=dict(color=&#39;blue&#39;, width=2),
    name=&#39;MA 5&#39;))

# MA 20
fig.add_trace(go.Scatter(
    x=df_raw[&#39;date&#39;],
    y=df_raw[&#39;MA20&#39;],
    opacity=0.7,
    line=dict(color=&#39;orange&#39;, width=2),
    name=&#39;MA 20&#39;))

# MA 60
fig.add_trace(go.Scatter(
    x=df_raw[&#39;date&#39;],
    y=df_raw[&#39;MA60&#39;],
    opacity=0.7,
    line=dict(color=&#39;purple&#39;, width=2),
    name=&#39;MA 60&#39;))

# MA 120
fig.add_trace(go.Scatter(
    x=df_raw[&#39;date&#39;],
    y=df_raw[&#39;MA120&#39;],
    opacity=0.7,
    line=dict(color=&#39;green&#39;, width=2),
    name=&#39;MA 120&#39;))</code></pre>
<p>그리고 골든 크로스와 데드 크로스 라인을 추가 해준다. fig.add_vline()를 사용하여 수직선을 그어껀데, 반복문을 사용하여 하나씩 그어 준다.</p>
<pre class="python"><code># 골든, 데드 크로스
for i in range(len(cross_df)):
    cross_index = cross_df[&#39;index&#39;][i]
    cross_color = cross_df[&#39;color&#39;][i]
    cross_name = cross_df[&#39;name&#39;][i]
    cross_position = cross_df[&#39;position&#39;][i]

    cross_date = df_raw[&#39;date&#39;][cross_index]

    fig.add_vline(
        x=pd.to_datetime(cross_date).timestamp() * 1000,
        line_dash=&quot;dot&quot;,
        line_color = cross_color,
            annotation_text = cross_name,
            annotation_position = cross_position
    )</code></pre>
<p>그리고 정배열과, 역배열을 추가 해준다. 반복문을 사용했으며 fig.add_vrect()함수를 통해 사각영역을 그려 주었다.</p>
<pre class="python"><code># 정배열, 역배열
# 정배열
for i in range(len(ascending_intervals)):
    start_date = ascending_intervals[i][0]
    end_date = ascending_intervals[i][1]

    fig.add_vrect(
        x0=df_raw[&#39;date&#39;][start_date], 
        x1=df_raw[&#39;date&#39;][end_date], 
        annotation_text=&quot; &quot;, annotation_position=&quot;top left&quot;,
                  fillcolor=&quot;red&quot;, opacity=0.1, line_width=0)
    
# 역배열
for i in range(len(descending_intervals)):
    start_date = descending_intervals[i][0]
    end_date = descending_intervals[i][1]

    fig.add_vrect(
        x0=df_raw[&#39;date&#39;][start_date], 
        x1=df_raw[&#39;date&#39;][end_date], 
        annotation_text=&quot; &quot;, annotation_position=&quot;top left&quot;,
                  fillcolor=&quot;blue&quot;, opacity=0.1, line_width=0)    </code></pre>
<p>마지막으로 fig.update_layout() 를 사용하여 시각화의 구석구석 옵션을 지정 해준다.</p>
<pre class="python"><code># Rayout
fig.update_layout(
    title = &#39;삼성전자 주가&#39;,
    title_font_family=&quot;맑은고딕&quot;,
    title_font_size = 18,
    hoverlabel=dict(
        bgcolor=&#39;black&#39;,
        font_size=15,
    ),
    hovermode=&quot;x unified&quot;,
    template=&#39;plotly_dark&#39;,
    xaxis_tickangle=90,
    yaxis_tickformat = &#39;,&#39;,
    legend = dict(orientation = &#39;h&#39;, xanchor = &quot;center&quot;, x = 0.5, y= 1.2),
    barmode=&#39;group&#39;,
    margin=go.layout.Margin(
        l=10, #left margin
        r=10, #right margin
        b=10, #bottom margin
        t=100  #top margin
    ),
    height=400, width=900, 
#         showlegend=False, 
    xaxis_rangeslider_visible=False
)


# update y-axis label
fig.update_yaxes(title_text=&quot;Price&quot;)

fig.update_xaxes(rangebreaks=[dict(bounds=[&quot;sat&quot;, &quot;mon&quot;])])
fig.show()</code></pre>
<div id="최종-코드" class="section level3">
<h3>최종 코드</h3>
<p>그리고 이를 최종적으로 함수를 만들어 주면 다음과 같다. 이제 곧 Streamlit 대시보드를 생성 하게 되면 이렇게 잘 정리된 함수들이 꼭 필요하다.</p>
<pre class="python"><code>def ma_vis(data):
    fig = go.Figure()

    # 캔들스틱차트
    fig.add_trace(go.Candlestick(
        x=df_raw[&#39;date&#39;],
        open=df_raw[&#39;open&#39;],
        high=df_raw[&#39;high&#39;],
        low=df_raw[&#39;low&#39;],
        close=df_raw[&#39;close&#39;],
        increasing_line_color= &#39;red&#39;, decreasing_line_color= &#39;blue&#39;, 
        name = &#39;&#39;))

    # MA 5 
    fig.add_trace(go.Scatter(
        x=df_raw[&#39;date&#39;],
        y=df_raw[&#39;MA5&#39;],
        opacity=0.7,
        line=dict(color=&#39;blue&#39;, width=2),
        name=&#39;MA 5&#39;))

    # MA 20
    fig.add_trace(go.Scatter(
        x=df_raw[&#39;date&#39;],
        y=df_raw[&#39;MA20&#39;],
        opacity=0.7,
        line=dict(color=&#39;orange&#39;, width=2),
        name=&#39;MA 20&#39;))

    # MA 60
    fig.add_trace(go.Scatter(
        x=df_raw[&#39;date&#39;],
        y=df_raw[&#39;MA60&#39;],
        opacity=0.7,
        line=dict(color=&#39;purple&#39;, width=2),
        name=&#39;MA 60&#39;))

    # MA 120
    fig.add_trace(go.Scatter(
        x=df_raw[&#39;date&#39;],
        y=df_raw[&#39;MA120&#39;],
        opacity=0.7,
        line=dict(color=&#39;green&#39;, width=2),
        name=&#39;MA 120&#39;))

    # 골든, 데드 크로스
    for i in range(len(cross_df)):
        cross_index = cross_df[&#39;index&#39;][i]
        cross_color = cross_df[&#39;color&#39;][i]
        cross_name = cross_df[&#39;name&#39;][i]
        cross_position = cross_df[&#39;position&#39;][i]

        cross_date = df_raw[&#39;date&#39;][cross_index]

        fig.add_vline(
            x=pd.to_datetime(cross_date).timestamp() * 1000,
            line_dash=&quot;dot&quot;,
            line_color = cross_color,
                annotation_text = cross_name,
                annotation_position = cross_position
        )

    # 정배열, 역배열
    # 정배열
    for i in range(len(ascending_intervals)):
        start_date = ascending_intervals[i][0]
        end_date = ascending_intervals[i][1]

        fig.add_vrect(
            x0=df_raw[&#39;date&#39;][start_date], 
            x1=df_raw[&#39;date&#39;][end_date], 
            annotation_text=&quot; &quot;, annotation_position=&quot;top left&quot;,
                      fillcolor=&quot;red&quot;, opacity=0.1, line_width=0)

    # 역배열
    for i in range(len(descending_intervals)):
        start_date = descending_intervals[i][0]
        end_date = descending_intervals[i][1]

        fig.add_vrect(
            x0=df_raw[&#39;date&#39;][start_date], 
            x1=df_raw[&#39;date&#39;][end_date], 
            annotation_text=&quot; &quot;, annotation_position=&quot;top left&quot;,
                      fillcolor=&quot;blue&quot;, opacity=0.1, line_width=0)    

    # Rayout
    fig.update_layout(
        title = &#39;삼성전자 주가&#39;,
        title_font_family=&quot;맑은고딕&quot;,
        title_font_size = 18,
        hoverlabel=dict(
            bgcolor=&#39;black&#39;,
            font_size=15,
        ),
        hovermode=&quot;x unified&quot;,
        template=&#39;plotly_dark&#39;,
        xaxis_tickangle=90,
        yaxis_tickformat = &#39;,&#39;,
        legend = dict(orientation = &#39;h&#39;, xanchor = &quot;center&quot;, x = 0.5, y= 1.2),
        barmode=&#39;group&#39;,
        margin=go.layout.Margin(
            l=10, #left margin
            r=10, #right margin
            b=10, #bottom margin
            t=100  #top margin
        ),
        height=400, width=900, 
    #         showlegend=False, 
        xaxis_rangeslider_visible=False
    )


    # update y-axis label
    fig.update_yaxes(title_text=&quot;Price&quot;)

    fig.update_xaxes(rangebreaks=[dict(bounds=[&quot;sat&quot;, &quot;mon&quot;])])

    return fig</code></pre>
</div>
</div>
</div>
<div id="총평" class="section level1">
<h1>총평</h1>
<p>이번에는 이동평균선과 Plotly에서 라인 추가 하는법, 사각영역 추가 하는 법 등등에 대해 알아 보았다. 자주 쓰는 주식 보조 지표중 하나로 이동평균선이 가장 기본중에 기본 이었으며, 다음에는 볼린져밴드에 대해 한번 알아보자.</p>
</div>
