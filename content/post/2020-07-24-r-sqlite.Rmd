---
title: "R에서 DB 사용(Sqlite)"
author: 최의용
date: '2020-07-24'
slug: "R에서 DB 사용(Sqlite)"
categories:
  - R
tags:
  - R
  - sqlite
---

<center>
![](/post/2020-07-24-r-sqlite_files/r_sqlite.PNG){width=70%}
</center>

R에서 DB를 사용해보자. 대부분 R을 사용하고 처음에는 기본으로 제공해주는 iris데이터를 다루다가 read.csv, write.csv 함수를 배우면서 csv를 통해 데이터를 접하게 된다. 그러다 보니 자연스럽게 DB와는 거리가 멀어지게 되는데 막상 DB를 구축 하는데 꽤나 어려움을 겪을수 있다. 이번에 소개할 Sqlite는 다른 여러종류의 DB에 비해 가볍고 설치도 쉽기때문에 접근성도 좋고 개념을 알아가는데 도움이 될 수 있다. 또한, 이를 공부 하기 위해서는 간단한 SQL지식이 필요한데 여기서는 간단한 정도만 다루도록 한다.

### SQLite

SQLite는 MySQL나 PostgreSQL와 같은 데이터베이스 관리 시스템이지만, 서버가 아니라 응용 프로그램에 넣어 사용하는 비교적 가벼운 데이터베이스이다. 영어권에서는 '에스큐엘라이트(ˌɛskjuːɛlˈlaɪt)'[3]또는 '시퀄라이트(ˈsiːkwəl.laɪt)'[4]라고 읽는다.
일반적인 RDBMS에 비해 대규모 작업에는 적합하지 않지만, 중소 규모라면 속도에 손색이 없다. 또 API는 단순히 라이브러리를 호출하는 것만 있으며, 데이터를 저장하는 데 하나의 파일만을 사용하는 것이 특징이다. 버전 3.3.8에서는 풀텍스트 검색 기능을 가진 FTS1 모듈이 지원된다. 컬럼을 삭제하거나 변경하는 것 등이 제한된다. 구글 안드로이드 운영 체제에 기본 탑재된 데이터베이스이기도 하다. (출처: 위키백과([SQLITE](https://ko.wikipedia.org/wiki/SQLite)))

그럼 이제 R에서 Sqlite DB를 구축하고, 사용해보도록 하자.

### 패키지 설치 

우선 RSQLITE, DBI패키지를 설치 한다. RSQLITE는 R에서 Sqlite 인터페이스를 제공해주며, DBI는 R과 DB와의 인터페이스 함수를 제공해준다.

```{r}
library(DBI)
library(RSQLite)
```


### DB 생성

dbConnet() 함수를 통해 다음의 코드를 사용해준다. dbConnect()안에 SQLite()는 드라이버명이고, dbname으로는 우리가 만들 DB이름을 적어 준다. 다음의 코드를 사용하고 확인해보면 test_sqlite.sqlte라는 파일이 생성된걸 확인할 수 있다.

```{r}
con <- dbConnect(SQLite(), 
                 dbname = "test_sqlte.sqlite")
```
### Table 생성

간단한게 iris 데이터를 생성 해보자. 

```{r}
dbWriteTable(con, "iris", iris)

dbListTables(con)
```



# 참고

- [Data Carpentry contributors: R과 SQL](https://statkclee.github.io/R-ecology-lesson/kr/06-r-and-sql.html)
- [꼬낄콘의 분석일지: R에서 DB 사용하기 - SQLite](https://kkokkilkon.tistory.com/102)
- [Lovetoken: Sqlite DB를 R에서 만들어 보기](https://lovetoken.github.io/r/2019/01/03/RSQLite.html)