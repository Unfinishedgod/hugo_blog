---
title: "[R] 2. Plotly와 Line chart"
author: 최의용
date: '2020-10-09'
slug: "[R] 2. Plotly와 Line chart"
categories:
  - R
tags:
  - plotly
---

<script src="/rmarkdown-libs/htmlwidgets/htmlwidgets.js"></script>
<script src="/rmarkdown-libs/plotly-binding/plotly.js"></script>
<script src="/rmarkdown-libs/typedarray/typedarray.min.js"></script>
<script src="/rmarkdown-libs/jquery/jquery.min.js"></script>
<link href="/rmarkdown-libs/crosstalk/css/crosstalk.css" rel="stylesheet" />
<script src="/rmarkdown-libs/crosstalk/js/crosstalk.min.js"></script>
<link href="/rmarkdown-libs/plotly-htmlwidgets-css/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="/rmarkdown-libs/plotly-main/plotly-latest.min.js"></script>
<link href="/rmarkdown-libs/datatables-css/datatables-crosstalk.css" rel="stylesheet" />
<script src="/rmarkdown-libs/datatables-binding/datatables.js"></script>
<link href="/rmarkdown-libs/dt-core/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="/rmarkdown-libs/dt-core/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="/rmarkdown-libs/dt-core/js/jquery.dataTables.min.js"></script>


<pre><code>## [1] &quot;AAPL&quot; &quot;MSFT&quot;</code></pre>
<div id="htmlwidget-1" style="width:864px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-1">{"x":{"data":[{"x":[118,484,664,1004,1231,1372,1582],"y":[32,62,112,167,179,209,214],"mode":"lines","type":"scatter","name":"4","marker":{"color":"rgba(253,231,37,1)","line":{"color":"rgba(253,231,37,1)"}},"textfont":{"color":"rgba(253,231,37,1)"},"error_y":{"color":"rgba(253,231,37,1)"},"error_x":{"color":"rgba(253,231,37,1)"},"line":{"color":"rgba(253,231,37,1)"},"xaxis":"x","yaxis":"y","frame":null,"showlegend":false},{"x":[118,484,664,1004,1231,1372,1582],"y":[33,69,111,156,172,203,203],"mode":"lines","type":"scatter","name":"2","marker":{"color":"rgba(93,200,99,1)","line":{"color":"rgba(93,200,99,1)"}},"textfont":{"color":"rgba(93,200,99,1)"},"error_y":{"color":"rgba(93,200,99,1)"},"error_x":{"color":"rgba(93,200,99,1)"},"line":{"color":"rgba(93,200,99,1)"},"xaxis":"x","yaxis":"y","frame":null,"showlegend":false},{"x":[118,484,664,1004,1231,1372,1582],"y":[30,49,81,125,142,174,177],"mode":"lines","type":"scatter","name":"5","marker":{"color":"rgba(33,144,140,1)","line":{"color":"rgba(33,144,140,1)"}},"textfont":{"color":"rgba(33,144,140,1)"},"error_y":{"color":"rgba(33,144,140,1)"},"error_x":{"color":"rgba(33,144,140,1)"},"line":{"color":"rgba(33,144,140,1)"},"xaxis":"x","yaxis":"y","frame":null,"showlegend":false},{"x":[118,484,664,1004,1231,1372,1582],"y":[30,58,87,115,120,142,145],"mode":"lines","type":"scatter","name":"1","marker":{"color":"rgba(59,82,139,1)","line":{"color":"rgba(59,82,139,1)"}},"textfont":{"color":"rgba(59,82,139,1)"},"error_y":{"color":"rgba(59,82,139,1)"},"error_x":{"color":"rgba(59,82,139,1)"},"line":{"color":"rgba(59,82,139,1)"},"xaxis":"x","yaxis":"y","frame":null,"showlegend":false},{"x":[118,484,664,1004,1231,1372,1582],"y":[30,51,75,108,115,139,140],"mode":"lines","type":"scatter","name":"3","marker":{"color":"rgba(68,1,84,1)","line":{"color":"rgba(68,1,84,1)"}},"textfont":{"color":"rgba(68,1,84,1)"},"error_y":{"color":"rgba(68,1,84,1)"},"error_x":{"color":"rgba(68,1,84,1)"},"line":{"color":"rgba(68,1,84,1)"},"xaxis":"x","yaxis":"y","frame":null,"showlegend":false},{"x":[118,484,664,1004,1231,1372,1582],"y":[30,58,87,115,120,142,145],"type":"scatter","name":"1 - width(4)","mode":"lines","line":{"color":"rgba(140,86,75,1)","width":4},"marker":{"color":"rgba(140,86,75,1)","line":{"color":"rgba(140,86,75,1)"}},"error_y":{"color":"rgba(140,86,75,1)"},"error_x":{"color":"rgba(140,86,75,1)"},"xaxis":"x2","yaxis":"y2","frame":null,"showlegend":false},{"x":[118,484,664,1004,1231,1372,1582],"y":[33,69,111,156,172,203,203],"type":"scatter","name":"2 - dash","mode":"lines","line":{"color":"rgba(227,119,194,1)","dash":"dash"},"marker":{"color":"rgba(227,119,194,1)","line":{"color":"rgba(227,119,194,1)"}},"error_y":{"color":"rgba(227,119,194,1)"},"error_x":{"color":"rgba(227,119,194,1)"},"xaxis":"x2","yaxis":"y2","frame":null,"showlegend":false},{"x":[118,484,664,1004,1231,1372,1582],"y":[30,51,75,108,115,139,140],"type":"scatter","name":"3 - dot","mode":"lines","line":{"color":"rgba(127,127,127,1)","dash":"dot"},"marker":{"color":"rgba(127,127,127,1)","line":{"color":"rgba(127,127,127,1)"}},"error_y":{"color":"rgba(127,127,127,1)"},"error_x":{"color":"rgba(127,127,127,1)"},"xaxis":"x2","yaxis":"y2","frame":null,"showlegend":false},{"x":[118,484,664,1004,1231,1372,1582],"y":[32,62,112,167,179,209,214],"type":"scatter","name":"4 - spline","mode":"lines","line":{"color":"rgba(188,189,34,1)","shape":"spline"},"marker":{"color":"rgba(188,189,34,1)","line":{"color":"rgba(188,189,34,1)"}},"error_y":{"color":"rgba(188,189,34,1)"},"error_x":{"color":"rgba(188,189,34,1)"},"xaxis":"x2","yaxis":"y2","frame":null,"showlegend":false},{"x":[118,484,664,1004,1231,1372,1582],"y":[30,49,81,125,142,174,177],"type":"scatter","name":"5 - color(black)","mode":"lines","line":{"color":"black"},"marker":{"color":"rgba(23,190,207,1)","line":{"color":"rgba(23,190,207,1)"}},"error_y":{"color":"rgba(23,190,207,1)"},"error_x":{"color":"rgba(23,190,207,1)"},"xaxis":"x2","yaxis":"y2","frame":null,"showlegend":false},{"x":["2018-01-02","2018-01-03","2018-01-04","2018-01-05","2018-01-08","2018-01-09","2018-01-10","2018-01-11","2018-01-12","2018-01-16","2018-01-17","2018-01-18","2018-01-19","2018-01-22","2018-01-23","2018-01-24","2018-01-25","2018-01-26","2018-01-29","2018-01-30","2018-01-31","2018-02-01","2018-02-02","2018-02-05","2018-02-06","2018-02-07","2018-02-08","2018-02-09","2018-02-12","2018-02-13","2018-02-14","2018-02-15","2018-02-16","2018-02-20","2018-02-21","2018-02-22","2018-02-23","2018-02-26","2018-02-27","2018-02-28","2018-03-01","2018-03-02","2018-03-05","2018-03-06","2018-03-07","2018-03-08","2018-03-09","2018-03-12","2018-03-13","2018-03-14","2018-03-15","2018-03-16","2018-03-19","2018-03-20","2018-03-21","2018-03-22","2018-03-23","2018-03-26","2018-03-27","2018-03-28","2018-03-29","2018-04-02","2018-04-03","2018-04-04","2018-04-05","2018-04-06","2018-04-09","2018-04-10","2018-04-11","2018-04-12","2018-04-13","2018-04-16","2018-04-17","2018-04-18","2018-04-19","2018-04-20","2018-04-23","2018-04-24","2018-04-25","2018-04-26","2018-04-27","2018-04-30","2018-05-01","2018-05-02","2018-05-03","2018-05-04","2018-05-07","2018-05-08","2018-05-09","2018-05-10","2018-05-11","2018-05-14","2018-05-15","2018-05-16","2018-05-17","2018-05-18","2018-05-21","2018-05-22","2018-05-23","2018-05-24","2018-05-25","2018-05-29","2018-05-30","2018-05-31","2018-06-01","2018-06-04","2018-06-05","2018-06-06","2018-06-07","2018-06-08","2018-06-11","2018-06-12","2018-06-13","2018-06-14","2018-06-15","2018-06-18","2018-06-19","2018-06-20","2018-06-21","2018-06-22","2018-06-25","2018-06-26","2018-06-27","2018-06-28","2018-06-29","2018-07-02","2018-07-03","2018-07-05","2018-07-06","2018-07-09","2018-07-10","2018-07-11","2018-07-12","2018-07-13","2018-07-16","2018-07-17","2018-07-18","2018-07-19","2018-07-20","2018-07-23","2018-07-24","2018-07-25","2018-07-26","2018-07-27","2018-07-30","2018-07-31","2018-08-01","2018-08-02","2018-08-03","2018-08-06","2018-08-07","2018-08-08","2018-08-09","2018-08-10","2018-08-13","2018-08-14","2018-08-15","2018-08-16","2018-08-17","2018-08-20","2018-08-21","2018-08-22","2018-08-23","2018-08-24","2018-08-27","2018-08-28","2018-08-29","2018-08-30","2018-08-31","2018-09-04","2018-09-05","2018-09-06","2018-09-07","2018-09-10","2018-09-11","2018-09-12","2018-09-13","2018-09-14","2018-09-17","2018-09-18","2018-09-19","2018-09-20","2018-09-21","2018-09-24","2018-09-25","2018-09-26","2018-09-27","2018-09-28","2018-10-01","2018-10-02","2018-10-03","2018-10-04","2018-10-05","2018-10-08","2018-10-09","2018-10-10","2018-10-11","2018-10-12","2018-10-15","2018-10-16","2018-10-17","2018-10-18","2018-10-19","2018-10-22","2018-10-23","2018-10-24","2018-10-25","2018-10-26","2018-10-29","2018-10-30","2018-10-31","2018-11-01","2018-11-02","2018-11-05","2018-11-06","2018-11-07","2018-11-08","2018-11-09","2018-11-12","2018-11-13","2018-11-14","2018-11-15","2018-11-16","2018-11-19","2018-11-20","2018-11-21","2018-11-23","2018-11-26","2018-11-27","2018-11-28","2018-11-29","2018-11-30","2018-12-03","2018-12-04","2018-12-06","2018-12-07","2018-12-10","2018-12-11","2018-12-12","2018-12-13","2018-12-14","2018-12-17","2018-12-18","2018-12-19","2018-12-20","2018-12-21","2018-12-24","2018-12-26","2018-12-27","2018-12-28","2018-12-31"],"y":[41.51358,41.506344,41.699139,42.173893,42.017254,42.012432,42.002796,42.241379,42.677582,42.460686,43.16198,43.200535,43.007744,42.655895,42.665524,41.985931,41.236435,41.332829,40.477306,40.238724,40.349579,40.433929,38.679497,37.7131,39.2892,38.448132,37.390179,37.847511,39.37196,39.766384,40.499569,41.859478,41.723969,41.583626,41.394882,41.74091,42.466835,43.306488,43.166153,43.100819,42.34584,42.638641,42.786251,42.74995,42.353111,42.815285,43.550888,43.971928,43.548473,43.178246,43.229061,43.076622,42.418446,42.403927,41.443279,40.857697,39.911564,41.806248,40.734283,40.28421,40.598782,40.332607,40.746387,41.525551,41.813499,40.743973,41.148064,41.922394,41.726391,42.137756,42.28051,42.544277,43.129852,43.033062,41.813499,40.100307,39.984165,39.42762,39.599415,39.737343,39.277592,39.988998,40.918182,42.725754,42.803181,44.482498,44.804325,45.019688,45.336678,45.985168,45.810276,45.703396,45.288029,45.710678,45.421623,45.256443,45.577084,45.462914,45.754414,45.703396,45.80785,45.642673,45.545509,45.392467,46.211071,46.597305,46.956806,47.119556,46.993248,46.565727,46.451557,46.706612,46.322815,46.347111,45.87101,45.84671,45.105843,45.302597,45.049973,44.918793,44.250797,44.79977,44.734184,45.059692,44.964947,45.467773,44.675892,45.035393,45.659668,46.293667,46.237808,45.63781,46.402977,46.475845,46.373833,46.504997,46.249939,46.609451,46.502579,46.543858,46.881512,47.323605,47.17543,46.390831,46.130917,46.223221,48.946239,50.376972,50.522717,50.785061,50.308956,50.342972,50.738911,50.587772,50.91441,51.128937,51.248371,51.999161,53.037575,52.520805,52.418423,52.420864,52.528122,52.691441,53.125328,53.554352,54.353893,54.8536,55.487377,55.665325,55.302128,54.383144,53.944374,53.220398,54.565971,53.888309,55.189991,54.563526,53.11071,53.198463,53.230145,53.6348,53.057083,53.820053,54.16132,53.729858,54.834099,55.026672,55.397186,55.889587,56.569679,55.575134,54.673214,54.546471,55.302128,52.740185,52.274609,54.141819,52.983948,54.151566,53.917561,52.657307,53.459282,53.785923,54.29295,52.430614,53.578732,52.725567,51.735893,51.994282,53.349594,54.168629,50.575588,49.139832,49.671238,51.177677,50.999111,50.01577,47.496269,47.021725,45.693485,46.821144,47.339722,45.463551,43.291397,43.242474,42.144165,42.714111,42.621162,44.260063,43.920044,43.682777,45.209152,43.220459,42.738575,41.214645,41.486164,41.24889,41.363853,41.816387,40.478359,40.101662,40.622688,39.355591,38.362465,36.870335,35.916355,38.445637,38.196133,38.215702,38.585068],"name":"Apple","type":"scatter","mode":"lines","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"line":{"color":"rgba(31,119,180,1)"},"xaxis":"x3","yaxis":"y3","frame":null,"showlegend":false},{"x":["2018-01-02","2018-01-03","2018-01-04","2018-01-05","2018-01-08","2018-01-09","2018-01-10","2018-01-11","2018-01-12","2018-01-16","2018-01-17","2018-01-18","2018-01-19","2018-01-22","2018-01-23","2018-01-24","2018-01-25","2018-01-26","2018-01-29","2018-01-30","2018-01-31","2018-02-01","2018-02-02","2018-02-05","2018-02-06","2018-02-07","2018-02-08","2018-02-09","2018-02-12","2018-02-13","2018-02-14","2018-02-15","2018-02-16","2018-02-20","2018-02-21","2018-02-22","2018-02-23","2018-02-26","2018-02-27","2018-02-28","2018-03-01","2018-03-02","2018-03-05","2018-03-06","2018-03-07","2018-03-08","2018-03-09","2018-03-12","2018-03-13","2018-03-14","2018-03-15","2018-03-16","2018-03-19","2018-03-20","2018-03-21","2018-03-22","2018-03-23","2018-03-26","2018-03-27","2018-03-28","2018-03-29","2018-04-02","2018-04-03","2018-04-04","2018-04-05","2018-04-06","2018-04-09","2018-04-10","2018-04-11","2018-04-12","2018-04-13","2018-04-16","2018-04-17","2018-04-18","2018-04-19","2018-04-20","2018-04-23","2018-04-24","2018-04-25","2018-04-26","2018-04-27","2018-04-30","2018-05-01","2018-05-02","2018-05-03","2018-05-04","2018-05-07","2018-05-08","2018-05-09","2018-05-10","2018-05-11","2018-05-14","2018-05-15","2018-05-16","2018-05-17","2018-05-18","2018-05-21","2018-05-22","2018-05-23","2018-05-24","2018-05-25","2018-05-29","2018-05-30","2018-05-31","2018-06-01","2018-06-04","2018-06-05","2018-06-06","2018-06-07","2018-06-08","2018-06-11","2018-06-12","2018-06-13","2018-06-14","2018-06-15","2018-06-18","2018-06-19","2018-06-20","2018-06-21","2018-06-22","2018-06-25","2018-06-26","2018-06-27","2018-06-28","2018-06-29","2018-07-02","2018-07-03","2018-07-05","2018-07-06","2018-07-09","2018-07-10","2018-07-11","2018-07-12","2018-07-13","2018-07-16","2018-07-17","2018-07-18","2018-07-19","2018-07-20","2018-07-23","2018-07-24","2018-07-25","2018-07-26","2018-07-27","2018-07-30","2018-07-31","2018-08-01","2018-08-02","2018-08-03","2018-08-06","2018-08-07","2018-08-08","2018-08-09","2018-08-10","2018-08-13","2018-08-14","2018-08-15","2018-08-16","2018-08-17","2018-08-20","2018-08-21","2018-08-22","2018-08-23","2018-08-24","2018-08-27","2018-08-28","2018-08-29","2018-08-30","2018-08-31","2018-09-04","2018-09-05","2018-09-06","2018-09-07","2018-09-10","2018-09-11","2018-09-12","2018-09-13","2018-09-14","2018-09-17","2018-09-18","2018-09-19","2018-09-20","2018-09-21","2018-09-24","2018-09-25","2018-09-26","2018-09-27","2018-09-28","2018-10-01","2018-10-02","2018-10-03","2018-10-04","2018-10-05","2018-10-08","2018-10-09","2018-10-10","2018-10-11","2018-10-12","2018-10-15","2018-10-16","2018-10-17","2018-10-18","2018-10-19","2018-10-22","2018-10-23","2018-10-24","2018-10-25","2018-10-26","2018-10-29","2018-10-30","2018-10-31","2018-11-01","2018-11-02","2018-11-05","2018-11-06","2018-11-07","2018-11-08","2018-11-09","2018-11-12","2018-11-13","2018-11-14","2018-11-15","2018-11-16","2018-11-19","2018-11-20","2018-11-21","2018-11-23","2018-11-26","2018-11-27","2018-11-28","2018-11-29","2018-11-30","2018-12-03","2018-12-04","2018-12-06","2018-12-07","2018-12-10","2018-12-11","2018-12-12","2018-12-13","2018-12-14","2018-12-17","2018-12-18","2018-12-19","2018-12-20","2018-12-21","2018-12-24","2018-12-26","2018-12-27","2018-12-28","2018-12-31"],"y":[82.599319,82.983727,83.714119,84.752014,84.838486,84.780838,84.396439,84.646286,86.107033,84.905762,86.625977,86.587547,86.49144,88.038666,88.317383,88.240479,88.730621,90.393173,90.258621,89.124626,91.306129,90.585373,88.202042,84.56942,87.769585,86.116646,81.695984,84.742393,85.655342,86.328072,87.679825,89.466042,88.828796,89.523979,88.336365,88.568108,90.817787,92.130898,90.952972,90.537788,89.649498,89.842606,90.41227,90.103294,90.62468,91.175034,93.212303,93.434364,91.155731,90.615021,90.933655,91.339172,89.68811,89.919838,89.292252,86.694969,84.17495,90.547447,86.386002,86.308754,88.123955,85.46875,86.617722,89.147423,89.195686,87.119804,87.641182,89.678459,88.693619,90.354324,89.871559,90.923996,92.758484,93.115746,92.797119,91.72538,92.063309,89.910179,89.128105,91.010887,92.51712,90.296387,91.72538,90.286751,90.827438,91.879868,92.90332,92.507462,93.598503,94.535065,94.332306,94.65094,93.965424,94.207832,93.267227,93.441765,94.644226,94.547249,95.672112,95.33271,95.381195,95.041794,95.953316,95.846657,97.73761,98.590965,99.095207,99.386124,97.824883,98.552162,97.989731,98.241867,97.795784,98.348526,97.097595,97.805489,97.805489,98.784904,98.077011,97.369118,95.410301,96.079399,94.586037,95.643021,95.623627,96.981239,96.050308,96.738808,98.096413,98.765503,99.027321,98.891571,101.034645,102.237091,101.732826,102.741348,101.93647,101.238289,103.051636,104.70018,104.399544,107.473549,106.300194,104.418945,102.178909,102.867409,103.061348,104.312279,104.768051,104.855316,105.582596,106.174126,106.348679,105.698975,104.932899,106.242012,104.801315,104.781845,104.723434,104.032303,103.165932,104.217239,104.703964,105.521667,106.689789,107.332291,109.04554,108.977402,109.347313,108.743774,105.609268,105.852623,105.336708,106.475639,108.28624,108.743774,109.911903,110.359695,109.162361,110.203934,108.734024,110.554382,111.226074,111.625175,111.411011,110.953514,111.372078,111.33313,112.54023,112.09243,112.1119,109.795097,109.152618,107.906609,109.279175,103.341148,103.097778,106.660583,104.742897,108.052628,107.770317,105.619011,105.774765,106.718994,105.229622,99.603111,105.424324,104.119904,101.092476,100.975662,103.973877,103.107498,103.341148,104.655296,104.859718,108.987129,108.782707,106.660583,104.032303,104.100433,102.624176,104.882553,105.869987,102.282005,99.437035,100.80574,100.76664,104.09066,104.745682,108.636749,107.727531,108.41188,109.58506,106.094833,106.749878,102.477531,105.185608,106.163269,106.642326,107.004051,103.660484,100.59066,101.646523,101.372787,99.241501,96.03479,92.026421,98.312729,98.918884,98.14653,99.300156],"name":"Microsoft","type":"scatter","mode":"lines","marker":{"color":"rgba(255,127,14,1)","line":{"color":"rgba(255,127,14,1)"}},"error_y":{"color":"rgba(255,127,14,1)"},"error_x":{"color":"rgba(255,127,14,1)"},"line":{"color":"rgba(255,127,14,1)"},"xaxis":"x3","yaxis":"y3","frame":null,"showlegend":false},{"x":["2018-01-02","2018-01-03","2018-01-04","2018-01-05","2018-01-08","2018-01-09","2018-01-10","2018-01-11","2018-01-12","2018-01-16","2018-01-17","2018-01-18","2018-01-19","2018-01-22","2018-01-23","2018-01-24","2018-01-25","2018-01-26","2018-01-29","2018-01-30","2018-01-31","2018-02-01","2018-02-02","2018-02-05","2018-02-06","2018-02-07","2018-02-08","2018-02-09","2018-02-12","2018-02-13","2018-02-14","2018-02-15","2018-02-16","2018-02-20","2018-02-21","2018-02-22","2018-02-23","2018-02-26","2018-02-27","2018-02-28","2018-03-01","2018-03-02","2018-03-05","2018-03-06","2018-03-07","2018-03-08","2018-03-09","2018-03-12","2018-03-13","2018-03-14","2018-03-15","2018-03-16","2018-03-19","2018-03-20","2018-03-21","2018-03-22","2018-03-23","2018-03-26","2018-03-27","2018-03-28","2018-03-29","2018-04-02","2018-04-03","2018-04-04","2018-04-05","2018-04-06","2018-04-09","2018-04-10","2018-04-11","2018-04-12","2018-04-13","2018-04-16","2018-04-17","2018-04-18","2018-04-19","2018-04-20","2018-04-23","2018-04-24","2018-04-25","2018-04-26","2018-04-27","2018-04-30","2018-05-01","2018-05-02","2018-05-03","2018-05-04","2018-05-07","2018-05-08","2018-05-09","2018-05-10","2018-05-11","2018-05-14","2018-05-15","2018-05-16","2018-05-17","2018-05-18","2018-05-21","2018-05-22","2018-05-23","2018-05-24","2018-05-25","2018-05-29","2018-05-30","2018-05-31","2018-06-01","2018-06-04","2018-06-05","2018-06-06","2018-06-07","2018-06-08","2018-06-11","2018-06-12","2018-06-13","2018-06-14","2018-06-15","2018-06-18","2018-06-19","2018-06-20","2018-06-21","2018-06-22","2018-06-25","2018-06-26","2018-06-27","2018-06-28","2018-06-29","2018-07-02","2018-07-03","2018-07-05","2018-07-06","2018-07-09","2018-07-10","2018-07-11","2018-07-12","2018-07-13","2018-07-16","2018-07-17","2018-07-18","2018-07-19","2018-07-20","2018-07-23","2018-07-24","2018-07-25","2018-07-26","2018-07-27","2018-07-30","2018-07-31","2018-08-01","2018-08-02","2018-08-03","2018-08-06","2018-08-07","2018-08-08","2018-08-09","2018-08-10","2018-08-13","2018-08-14","2018-08-15","2018-08-16","2018-08-17","2018-08-20","2018-08-21","2018-08-22","2018-08-23","2018-08-24","2018-08-27","2018-08-28","2018-08-29","2018-08-30","2018-08-31","2018-09-04","2018-09-05","2018-09-06","2018-09-07","2018-09-10","2018-09-11","2018-09-12","2018-09-13","2018-09-14","2018-09-17","2018-09-18","2018-09-19","2018-09-20","2018-09-21","2018-09-24","2018-09-25","2018-09-26","2018-09-27","2018-09-28","2018-10-01","2018-10-02","2018-10-03","2018-10-04","2018-10-05","2018-10-08","2018-10-09","2018-10-10","2018-10-11","2018-10-12","2018-10-15","2018-10-16","2018-10-17","2018-10-18","2018-10-19","2018-10-22","2018-10-23","2018-10-24","2018-10-25","2018-10-26","2018-10-29","2018-10-30","2018-10-31","2018-11-01","2018-11-02","2018-11-05","2018-11-06","2018-11-07","2018-11-08","2018-11-09","2018-11-12","2018-11-13","2018-11-14","2018-11-15","2018-11-16","2018-11-19","2018-11-20","2018-11-21","2018-11-23","2018-11-26","2018-11-27","2018-11-28","2018-11-29","2018-11-30","2018-12-03","2018-12-04","2018-12-06","2018-12-07","2018-12-10","2018-12-11","2018-12-12","2018-12-13","2018-12-14","2018-12-17","2018-12-18","2018-12-19","2018-12-20","2018-12-21","2018-12-24","2018-12-26","2018-12-27","2018-12-28","2018-12-31"],"y":[41.51358,41.506344,41.699139,42.173893,42.017254,42.012432,42.002796,42.241379,42.677582,42.460686,43.16198,43.200535,43.007744,42.655895,42.665524,41.985931,41.236435,41.332829,40.477306,40.238724,40.349579,40.433929,38.679497,37.7131,39.2892,38.448132,37.390179,37.847511,39.37196,39.766384,40.499569,41.859478,41.723969,41.583626,41.394882,41.74091,42.466835,43.306488,43.166153,43.100819,42.34584,42.638641,42.786251,42.74995,42.353111,42.815285,43.550888,43.971928,43.548473,43.178246,43.229061,43.076622,42.418446,42.403927,41.443279,40.857697,39.911564,41.806248,40.734283,40.28421,40.598782,40.332607,40.746387,41.525551,41.813499,40.743973,41.148064,41.922394,41.726391,42.137756,42.28051,42.544277,43.129852,43.033062,41.813499,40.100307,39.984165,39.42762,39.599415,39.737343,39.277592,39.988998,40.918182,42.725754,42.803181,44.482498,44.804325,45.019688,45.336678,45.985168,45.810276,45.703396,45.288029,45.710678,45.421623,45.256443,45.577084,45.462914,45.754414,45.703396,45.80785,45.642673,45.545509,45.392467,46.211071,46.597305,46.956806,47.119556,46.993248,46.565727,46.451557,46.706612,46.322815,46.347111,45.87101,45.84671,45.105843,45.302597,45.049973,44.918793,44.250797,44.79977,44.734184,45.059692,44.964947,45.467773,44.675892,45.035393,45.659668,46.293667,46.237808,45.63781,46.402977,46.475845,46.373833,46.504997,46.249939,46.609451,46.502579,46.543858,46.881512,47.323605,47.17543,46.390831,46.130917,46.223221,48.946239,50.376972,50.522717,50.785061,50.308956,50.342972,50.738911,50.587772,50.91441,51.128937,51.248371,51.999161,53.037575,52.520805,52.418423,52.420864,52.528122,52.691441,53.125328,53.554352,54.353893,54.8536,55.487377,55.665325,55.302128,54.383144,53.944374,53.220398,54.565971,53.888309,55.189991,54.563526,53.11071,53.198463,53.230145,53.6348,53.057083,53.820053,54.16132,53.729858,54.834099,55.026672,55.397186,55.889587,56.569679,55.575134,54.673214,54.546471,55.302128,52.740185,52.274609,54.141819,52.983948,54.151566,53.917561,52.657307,53.459282,53.785923,54.29295,52.430614,53.578732,52.725567,51.735893,51.994282,53.349594,54.168629,50.575588,49.139832,49.671238,51.177677,50.999111,50.01577,47.496269,47.021725,45.693485,46.821144,47.339722,45.463551,43.291397,43.242474,42.144165,42.714111,42.621162,44.260063,43.920044,43.682777,45.209152,43.220459,42.738575,41.214645,41.486164,41.24889,41.363853,41.816387,40.478359,40.101662,40.622688,39.355591,38.362465,36.870335,35.916355,38.445637,38.196133,38.215702,38.585068],"name":"Apple","type":"scatter","mode":"lines","line":{"color":"red","width":1},"marker":{"color":"rgba(44,160,44,1)","line":{"color":"rgba(44,160,44,1)"}},"error_y":{"color":"rgba(44,160,44,1)"},"error_x":{"color":"rgba(44,160,44,1)"},"xaxis":"x4","yaxis":"y4","frame":null},{"x":["2018-01-02","2018-01-03","2018-01-04","2018-01-05","2018-01-08","2018-01-09","2018-01-10","2018-01-11","2018-01-12","2018-01-16","2018-01-17","2018-01-18","2018-01-19","2018-01-22","2018-01-23","2018-01-24","2018-01-25","2018-01-26","2018-01-29","2018-01-30","2018-01-31","2018-02-01","2018-02-02","2018-02-05","2018-02-06","2018-02-07","2018-02-08","2018-02-09","2018-02-12","2018-02-13","2018-02-14","2018-02-15","2018-02-16","2018-02-20","2018-02-21","2018-02-22","2018-02-23","2018-02-26","2018-02-27","2018-02-28","2018-03-01","2018-03-02","2018-03-05","2018-03-06","2018-03-07","2018-03-08","2018-03-09","2018-03-12","2018-03-13","2018-03-14","2018-03-15","2018-03-16","2018-03-19","2018-03-20","2018-03-21","2018-03-22","2018-03-23","2018-03-26","2018-03-27","2018-03-28","2018-03-29","2018-04-02","2018-04-03","2018-04-04","2018-04-05","2018-04-06","2018-04-09","2018-04-10","2018-04-11","2018-04-12","2018-04-13","2018-04-16","2018-04-17","2018-04-18","2018-04-19","2018-04-20","2018-04-23","2018-04-24","2018-04-25","2018-04-26","2018-04-27","2018-04-30","2018-05-01","2018-05-02","2018-05-03","2018-05-04","2018-05-07","2018-05-08","2018-05-09","2018-05-10","2018-05-11","2018-05-14","2018-05-15","2018-05-16","2018-05-17","2018-05-18","2018-05-21","2018-05-22","2018-05-23","2018-05-24","2018-05-25","2018-05-29","2018-05-30","2018-05-31","2018-06-01","2018-06-04","2018-06-05","2018-06-06","2018-06-07","2018-06-08","2018-06-11","2018-06-12","2018-06-13","2018-06-14","2018-06-15","2018-06-18","2018-06-19","2018-06-20","2018-06-21","2018-06-22","2018-06-25","2018-06-26","2018-06-27","2018-06-28","2018-06-29","2018-07-02","2018-07-03","2018-07-05","2018-07-06","2018-07-09","2018-07-10","2018-07-11","2018-07-12","2018-07-13","2018-07-16","2018-07-17","2018-07-18","2018-07-19","2018-07-20","2018-07-23","2018-07-24","2018-07-25","2018-07-26","2018-07-27","2018-07-30","2018-07-31","2018-08-01","2018-08-02","2018-08-03","2018-08-06","2018-08-07","2018-08-08","2018-08-09","2018-08-10","2018-08-13","2018-08-14","2018-08-15","2018-08-16","2018-08-17","2018-08-20","2018-08-21","2018-08-22","2018-08-23","2018-08-24","2018-08-27","2018-08-28","2018-08-29","2018-08-30","2018-08-31","2018-09-04","2018-09-05","2018-09-06","2018-09-07","2018-09-10","2018-09-11","2018-09-12","2018-09-13","2018-09-14","2018-09-17","2018-09-18","2018-09-19","2018-09-20","2018-09-21","2018-09-24","2018-09-25","2018-09-26","2018-09-27","2018-09-28","2018-10-01","2018-10-02","2018-10-03","2018-10-04","2018-10-05","2018-10-08","2018-10-09","2018-10-10","2018-10-11","2018-10-12","2018-10-15","2018-10-16","2018-10-17","2018-10-18","2018-10-19","2018-10-22","2018-10-23","2018-10-24","2018-10-25","2018-10-26","2018-10-29","2018-10-30","2018-10-31","2018-11-01","2018-11-02","2018-11-05","2018-11-06","2018-11-07","2018-11-08","2018-11-09","2018-11-12","2018-11-13","2018-11-14","2018-11-15","2018-11-16","2018-11-19","2018-11-20","2018-11-21","2018-11-23","2018-11-26","2018-11-27","2018-11-28","2018-11-29","2018-11-30","2018-12-03","2018-12-04","2018-12-06","2018-12-07","2018-12-10","2018-12-11","2018-12-12","2018-12-13","2018-12-14","2018-12-17","2018-12-18","2018-12-19","2018-12-20","2018-12-21","2018-12-24","2018-12-26","2018-12-27","2018-12-28","2018-12-31"],"y":[82.599319,82.983727,83.714119,84.752014,84.838486,84.780838,84.396439,84.646286,86.107033,84.905762,86.625977,86.587547,86.49144,88.038666,88.317383,88.240479,88.730621,90.393173,90.258621,89.124626,91.306129,90.585373,88.202042,84.56942,87.769585,86.116646,81.695984,84.742393,85.655342,86.328072,87.679825,89.466042,88.828796,89.523979,88.336365,88.568108,90.817787,92.130898,90.952972,90.537788,89.649498,89.842606,90.41227,90.103294,90.62468,91.175034,93.212303,93.434364,91.155731,90.615021,90.933655,91.339172,89.68811,89.919838,89.292252,86.694969,84.17495,90.547447,86.386002,86.308754,88.123955,85.46875,86.617722,89.147423,89.195686,87.119804,87.641182,89.678459,88.693619,90.354324,89.871559,90.923996,92.758484,93.115746,92.797119,91.72538,92.063309,89.910179,89.128105,91.010887,92.51712,90.296387,91.72538,90.286751,90.827438,91.879868,92.90332,92.507462,93.598503,94.535065,94.332306,94.65094,93.965424,94.207832,93.267227,93.441765,94.644226,94.547249,95.672112,95.33271,95.381195,95.041794,95.953316,95.846657,97.73761,98.590965,99.095207,99.386124,97.824883,98.552162,97.989731,98.241867,97.795784,98.348526,97.097595,97.805489,97.805489,98.784904,98.077011,97.369118,95.410301,96.079399,94.586037,95.643021,95.623627,96.981239,96.050308,96.738808,98.096413,98.765503,99.027321,98.891571,101.034645,102.237091,101.732826,102.741348,101.93647,101.238289,103.051636,104.70018,104.399544,107.473549,106.300194,104.418945,102.178909,102.867409,103.061348,104.312279,104.768051,104.855316,105.582596,106.174126,106.348679,105.698975,104.932899,106.242012,104.801315,104.781845,104.723434,104.032303,103.165932,104.217239,104.703964,105.521667,106.689789,107.332291,109.04554,108.977402,109.347313,108.743774,105.609268,105.852623,105.336708,106.475639,108.28624,108.743774,109.911903,110.359695,109.162361,110.203934,108.734024,110.554382,111.226074,111.625175,111.411011,110.953514,111.372078,111.33313,112.54023,112.09243,112.1119,109.795097,109.152618,107.906609,109.279175,103.341148,103.097778,106.660583,104.742897,108.052628,107.770317,105.619011,105.774765,106.718994,105.229622,99.603111,105.424324,104.119904,101.092476,100.975662,103.973877,103.107498,103.341148,104.655296,104.859718,108.987129,108.782707,106.660583,104.032303,104.100433,102.624176,104.882553,105.869987,102.282005,99.437035,100.80574,100.76664,104.09066,104.745682,108.636749,107.727531,108.41188,109.58506,106.094833,106.749878,102.477531,105.185608,106.163269,106.642326,107.004051,103.660484,100.59066,101.646523,101.372787,99.241501,96.03479,92.026421,98.312729,98.918884,98.14653,99.300156],"name":"Microsoft","type":"scatter","mode":"lines","line":{"color":"blue","width":1},"marker":{"color":"rgba(214,39,40,1)","line":{"color":"rgba(214,39,40,1)"}},"error_y":{"color":"rgba(214,39,40,1)"},"error_x":{"color":"rgba(214,39,40,1)"},"xaxis":"x4","yaxis":"y4","frame":null},{"x":["2018-01-02","2018-12-31","2018-10-03"],"y":[41.51358,38.585068,56.569679],"type":"scatter","mode":"makers+markers","marker":{"color":"red","size":10,"line":{"color":"rgba(148,103,189,1)"}},"error_y":{"color":"rgba(148,103,189,1)"},"error_x":{"color":"rgba(148,103,189,1)"},"line":{"color":"rgba(148,103,189,1)"},"xaxis":"x4","yaxis":"y4","frame":null},{"x":["2018-01-02","2018-12-31","2018-10-01"],"y":[82.599319,99.300156,112.54023],"type":"scatter","mode":"makers+markers","marker":{"color":"blue","size":10,"line":{"color":"rgba(140,86,75,1)"}},"error_y":{"color":"rgba(140,86,75,1)"},"error_x":{"color":"rgba(140,86,75,1)"},"line":{"color":"rgba(140,86,75,1)"},"xaxis":"x4","yaxis":"y4","frame":null}],"layout":{"xaxis":{"domain":[0,0.48],"automargin":true,"anchor":"y"},"xaxis2":{"domain":[0.52,1],"automargin":true,"anchor":"y2"},"xaxis3":{"domain":[0,0.48],"automargin":true,"rangeselector":{"buttons":[{"count":3,"label":"3 mo","step":"month","stepmode":"backward"},{"count":6,"label":"6 mo","step":"month","stepmode":"backward"},{"count":1,"label":"1 yr","step":"year","stepmode":"backward"},{"count":1,"label":"YTD","step":"year","stepmode":"todate"},{"step":"all"}]},"rangeslider":{"type":"date"},"anchor":"y3"},"xaxis4":{"domain":[0.52,1],"automargin":true,"showgrid":false,"anchor":"y4"},"yaxis4":{"domain":[0,0.48],"automargin":true,"showgrid":false,"anchor":"x4"},"yaxis3":{"domain":[0,0.48],"automargin":true,"anchor":"x3"},"yaxis2":{"domain":[0.52,1],"automargin":true,"anchor":"x2"},"yaxis":{"domain":[0.52,1],"automargin":true,"anchor":"x"},"annotations":[{"xref":"x4","yref":"y4","x":"2018-01-02","y":41.51358,"xanchor":"right","yanchor":"middle","text":"Apple <br /> 2018-01-02 <br /> 41.514","font":{"family":"Arial","size":16,"color":"rgba(67,67,67,1)"},"showarrow":false},{"xref":"x4","yref":"y4","x":"2018-01-02","y":41.51358,"xanchor":"right","yanchor":"middle","text":"Apple <br /> 2018-01-02 <br /> 41.514","font":{"family":"Arial","size":16,"color":"rgba(67,67,67,1)"},"showarrow":false},{"xref":"x4","yref":"y4","x":"2018-01-02","y":41.51358,"xanchor":"right","yanchor":"middle","text":"Apple <br /> 2018-01-02 <br /> 41.514","font":{"family":"Arial","size":16,"color":"rgba(67,67,67,1)"},"showarrow":false},{"xref":"x4","yref":"y4","x":"2018-12-31","y":38.585068,"xanchor":"left","yanchor":"middle","text":"Apple <br /> 2018-12-31 <br /> 38.585","font":{"family":"Arial","size":16,"color":"rgba(67,67,67,1)"},"showarrow":false},{"xref":"x4","yref":"y4","x":"2018-12-31","y":38.585068,"xanchor":"left","yanchor":"middle","text":"Apple <br /> 2018-12-31 <br /> 38.585","font":{"family":"Arial","size":16,"color":"rgba(67,67,67,1)"},"showarrow":false},{"xref":"x4","yref":"y4","x":"2018-12-31","y":38.585068,"xanchor":"left","yanchor":"middle","text":"Apple <br /> 2018-12-31 <br /> 38.585","font":{"family":"Arial","size":16,"color":"rgba(67,67,67,1)"},"showarrow":false},{"xref":"x4","yref":"y4","x":"2018-10-03","y":56.569679,"xanchor":"middle","yanchor":"bottom","text":"Apple Max <br /> 2018-10-03 <br /> 56.57","font":{"family":"Arial","size":16,"color":"rgba(67,67,67,1)"},"showarrow":false},{"xref":"x4","yref":"y4","x":"2018-10-03","y":56.569679,"xanchor":"middle","yanchor":"bottom","text":"Apple Max <br /> 2018-10-03 <br /> 56.57","font":{"family":"Arial","size":16,"color":"rgba(67,67,67,1)"},"showarrow":false},{"xref":"x4","yref":"y4","x":"2018-10-03","y":56.569679,"xanchor":"middle","yanchor":"bottom","text":"Apple Max <br /> 2018-10-03 <br /> 56.57","font":{"family":"Arial","size":16,"color":"rgba(67,67,67,1)"},"showarrow":false},{"xref":"x4","yref":"y4","x":"2018-01-02","y":82.599319,"xanchor":"right","yanchor":"middle","text":"Microsoft <br /> 2018-01-02 <br /> 82.599","font":{"family":"Arial","size":16,"color":"rgba(67,67,67,1)"},"showarrow":false},{"xref":"x4","yref":"y4","x":"2018-01-02","y":82.599319,"xanchor":"right","yanchor":"middle","text":"Microsoft <br /> 2018-01-02 <br /> 82.599","font":{"family":"Arial","size":16,"color":"rgba(67,67,67,1)"},"showarrow":false},{"xref":"x4","yref":"y4","x":"2018-01-02","y":82.599319,"xanchor":"right","yanchor":"middle","text":"Microsoft <br /> 2018-01-02 <br /> 82.599","font":{"family":"Arial","size":16,"color":"rgba(67,67,67,1)"},"showarrow":false},{"xref":"x4","yref":"y4","x":"2018-12-31","y":99.300156,"xanchor":"left","yanchor":"middle","text":"Microsoft <br /> 2018-12-31 <br /> 99.3","font":{"family":"Arial","size":16,"color":"rgba(67,67,67,1)"},"showarrow":false},{"xref":"x4","yref":"y4","x":"2018-12-31","y":99.300156,"xanchor":"left","yanchor":"middle","text":"Microsoft <br /> 2018-12-31 <br /> 99.3","font":{"family":"Arial","size":16,"color":"rgba(67,67,67,1)"},"showarrow":false},{"xref":"x4","yref":"y4","x":"2018-12-31","y":99.300156,"xanchor":"left","yanchor":"middle","text":"Microsoft <br /> 2018-12-31 <br /> 99.3","font":{"family":"Arial","size":16,"color":"rgba(67,67,67,1)"},"showarrow":false},{"xref":"x4","yref":"y4","x":"2018-10-01","y":112.54023,"xanchor":"middle","yanchor":"bottom","text":"Microsoft Max <br /> 2018-10-01 <br /> 112.54","font":{"family":"Arial","size":16,"color":"rgba(67,67,67,1)"},"showarrow":false},{"xref":"x4","yref":"y4","x":"2018-10-01","y":112.54023,"xanchor":"middle","yanchor":"bottom","text":"Microsoft Max <br /> 2018-10-01 <br /> 112.54","font":{"family":"Arial","size":16,"color":"rgba(67,67,67,1)"},"showarrow":false},{"xref":"x4","yref":"y4","x":"2018-10-01","y":112.54023,"xanchor":"middle","yanchor":"bottom","text":"Microsoft Max <br /> 2018-10-01 <br /> 112.54","font":{"family":"Arial","size":16,"color":"rgba(67,67,67,1)"},"showarrow":false}],"shapes":[],"images":[],"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Plotly와 Line chart","hovermode":"closest","showlegend":false,"legend":{"orientation":"h","y":1.1,"x":0.7}},"attrs":{"138c1ff51f0":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"y":{},"type":"scatter","name":"1 - width(4)","mode":"lines","line":{"width":4},"inherit":true},"138c1ff51f0.1":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"y":{},"type":"scatter","name":"2 - dash","mode":"lines","line":{"dash":"dash"},"inherit":true},"138c1ff51f0.2":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"y":{},"type":"scatter","name":"3 - dot","mode":"lines","line":{"dash":"dot"},"inherit":true},"138c1ff51f0.3":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"y":{},"type":"scatter","name":"4 - spline","mode":"lines","line":{"shape":"spline"},"inherit":true},"138c1ff51f0.4":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"y":{},"type":"scatter","name":"5 - color(black)","mode":"lines","line":{"color":"black"},"inherit":true},"138c5d33f1d1":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"y":{},"name":"Apple","type":"scatter","mode":"lines","inherit":true},"138c5d33f1d1.1":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"y":{},"name":"Microsoft","type":"scatter","mode":"lines","inherit":true},"138c5ae806cf":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"y":{},"name":"Apple","type":"scatter","mode":"lines","line":{"width":1,"color":"red"},"inherit":true},"138c5ae806cf.1":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"y":{},"name":"Microsoft","type":"scatter","mode":"lines","line":{"width":1,"color":"blue"},"inherit":true},"138c5ae806cf.2":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"y":{},"type":"scatter","mode":"makers","marker":{"size":10,"color":"red"},"inherit":true},"138c5ae806cf.3":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"y":{},"type":"scatter","mode":"makers","marker":{"size":10,"color":"blue"},"inherit":true}},"source":"A","config":{"showSendToCloud":false},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"subplot":true,"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p>이번에는 plotly의 Line chart에 대해 알아 보자. 지난 블로그에서는 가볍게 소개를 했다면 이번에는 Line chart에 대해 알아보고 몇가지 옵션들을 추가로 알아보려 한다. 이글의 전반적인 출처는 다음과 같다.</p>
<ul>
<li>Plotly: <a href="https://plotly.com/r/line-charts/">Line Plots in R</a></li>
</ul>
<div id="기본-chart" class="section level1">
<h1>1. 기본 Chart</h1>
<p>우선 기본 차트를 보자. Orange 데이터를 사용 했으며, 이를 가지고 변형을 통해 line chart를 바꾸어 주자.</p>
<pre class="r"><code>library(tidyverse)
library(plotly)
library(DT)</code></pre>
<pre class="r"><code>Orange %&gt;% 
  plot_ly() %&gt;% 
  add_trace(x = ~age, y = ~circumference, color = ~Tree, mode = &quot;lines&quot;) %&gt;% 
  layout(
    title = &quot;Line Chart&quot;,
    xaxis = list(title = &quot;x축 이름&quot;),
    yaxis = list(title = &quot;y축 이름&quot;)
  )</code></pre>
<div id="htmlwidget-2" style="width:864px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-2">{"x":{"visdat":{"138c75d645eb":["function () ","plotlyVisDat"]},"cur_data":"138c75d645eb","attrs":{"138c75d645eb":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"y":{},"color":{},"mode":"lines","inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Line Chart","xaxis":{"domain":[0,1],"automargin":true,"title":"x축 이름"},"yaxis":{"domain":[0,1],"automargin":true,"title":"y축 이름"},"hovermode":"closest","showlegend":true},"source":"A","config":{"showSendToCloud":false},"data":[{"x":[118,484,664,1004,1231,1372,1582],"y":[32,62,112,167,179,209,214],"mode":"lines","type":"scatter","name":"4","marker":{"color":"rgba(253,231,37,1)","line":{"color":"rgba(253,231,37,1)"}},"textfont":{"color":"rgba(253,231,37,1)"},"error_y":{"color":"rgba(253,231,37,1)"},"error_x":{"color":"rgba(253,231,37,1)"},"line":{"color":"rgba(253,231,37,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[118,484,664,1004,1231,1372,1582],"y":[33,69,111,156,172,203,203],"mode":"lines","type":"scatter","name":"2","marker":{"color":"rgba(93,200,99,1)","line":{"color":"rgba(93,200,99,1)"}},"textfont":{"color":"rgba(93,200,99,1)"},"error_y":{"color":"rgba(93,200,99,1)"},"error_x":{"color":"rgba(93,200,99,1)"},"line":{"color":"rgba(93,200,99,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[118,484,664,1004,1231,1372,1582],"y":[30,49,81,125,142,174,177],"mode":"lines","type":"scatter","name":"5","marker":{"color":"rgba(33,144,140,1)","line":{"color":"rgba(33,144,140,1)"}},"textfont":{"color":"rgba(33,144,140,1)"},"error_y":{"color":"rgba(33,144,140,1)"},"error_x":{"color":"rgba(33,144,140,1)"},"line":{"color":"rgba(33,144,140,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[118,484,664,1004,1231,1372,1582],"y":[30,58,87,115,120,142,145],"mode":"lines","type":"scatter","name":"1","marker":{"color":"rgba(59,82,139,1)","line":{"color":"rgba(59,82,139,1)"}},"textfont":{"color":"rgba(59,82,139,1)"},"error_y":{"color":"rgba(59,82,139,1)"},"error_x":{"color":"rgba(59,82,139,1)"},"line":{"color":"rgba(59,82,139,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[118,484,664,1004,1231,1372,1582],"y":[30,51,75,108,115,139,140],"mode":"lines","type":"scatter","name":"3","marker":{"color":"rgba(68,1,84,1)","line":{"color":"rgba(68,1,84,1)"}},"textfont":{"color":"rgba(68,1,84,1)"},"error_y":{"color":"rgba(68,1,84,1)"},"error_x":{"color":"rgba(68,1,84,1)"},"line":{"color":"rgba(68,1,84,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="line별-옵션" class="section level1">
<h1>2. Line별 옵션</h1>
<div id="데이터-변형" class="section level2">
<h2>2-1. 데이터 변형</h2>
<p>각 선 별로 옵션값을 지정 해주자. 이를 위해서는 변형을 해야 하는데 Orange 데이터를 spread()함수를 사용하여 1~5까지의 Tree값을 각 컬럼으로 바꿔주자. 그리고 이를 Orange_2라고 지정 해두었다.</p>
<pre class="r"><code>Orange_2 &lt;- Orange %&gt;% 
  spread(key = Tree, value = circumference) 

Orange_2 %&gt;% 
  datatable(rownames = NULL, options = list(
    pageLength = 5
  ))</code></pre>
<div id="htmlwidget-3" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-3">{"x":{"filter":"none","data":[[118,484,664,1004,1231,1372,1582],[30,51,75,108,115,139,140],[30,58,87,115,120,142,145],[30,49,81,125,142,174,177],[33,69,111,156,172,203,203],[32,62,112,167,179,209,214]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>age<\/th>\n      <th>3<\/th>\n      <th>1<\/th>\n      <th>5<\/th>\n      <th>2<\/th>\n      <th>4<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":5,"columnDefs":[{"className":"dt-right","targets":[0,1,2,3,4,5]}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[5,10,25,50,100]}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="라인별-옵션" class="section level2">
<h2>2-1. 라인별 옵션</h2>
<div id="htmlwidget-4" style="width:864px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-4">{"x":{"visdat":{"138c6d9b47":["function () ","plotlyVisDat"]},"cur_data":"138c6d9b47","attrs":{"138c6d9b47":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"y":{},"type":"scatter","name":"1 - width(4)","mode":"lines","line":{"width":4},"inherit":true},"138c6d9b47.1":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"y":{},"type":"scatter","name":"2 - dash","mode":"lines","line":{"dash":"dash"},"inherit":true},"138c6d9b47.2":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"y":{},"type":"scatter","name":"3 - dot","mode":"lines","line":{"dash":"dot"},"inherit":true},"138c6d9b47.3":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"y":{},"type":"scatter","name":"4 - spline","mode":"lines","line":{"shape":"spline"},"inherit":true},"138c6d9b47.4":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"y":{},"type":"scatter","name":"5 - color(black)","mode":"lines","line":{"color":"black"},"inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"legend":{"orientation":"h","y":1.1,"x":0.7},"xaxis":{"domain":[0,1],"automargin":true,"title":"age"},"yaxis":{"domain":[0,1],"automargin":true,"title":"`1`"},"hovermode":"closest","showlegend":true},"source":"A","config":{"showSendToCloud":false},"data":[{"x":[118,484,664,1004,1231,1372,1582],"y":[30,58,87,115,120,142,145],"type":"scatter","name":"1 - width(4)","mode":"lines","line":{"color":"rgba(31,119,180,1)","width":4},"marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[118,484,664,1004,1231,1372,1582],"y":[33,69,111,156,172,203,203],"type":"scatter","name":"2 - dash","mode":"lines","line":{"color":"rgba(255,127,14,1)","dash":"dash"},"marker":{"color":"rgba(255,127,14,1)","line":{"color":"rgba(255,127,14,1)"}},"error_y":{"color":"rgba(255,127,14,1)"},"error_x":{"color":"rgba(255,127,14,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[118,484,664,1004,1231,1372,1582],"y":[30,51,75,108,115,139,140],"type":"scatter","name":"3 - dot","mode":"lines","line":{"color":"rgba(44,160,44,1)","dash":"dot"},"marker":{"color":"rgba(44,160,44,1)","line":{"color":"rgba(44,160,44,1)"}},"error_y":{"color":"rgba(44,160,44,1)"},"error_x":{"color":"rgba(44,160,44,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[118,484,664,1004,1231,1372,1582],"y":[32,62,112,167,179,209,214],"type":"scatter","name":"4 - spline","mode":"lines","line":{"color":"rgba(214,39,40,1)","shape":"spline"},"marker":{"color":"rgba(214,39,40,1)","line":{"color":"rgba(214,39,40,1)"}},"error_y":{"color":"rgba(214,39,40,1)"},"error_x":{"color":"rgba(214,39,40,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[118,484,664,1004,1231,1372,1582],"y":[30,49,81,125,142,174,177],"type":"scatter","name":"5 - color(black)","mode":"lines","line":{"color":"black"},"marker":{"color":"rgba(148,103,189,1)","line":{"color":"rgba(148,103,189,1)"}},"error_y":{"color":"rgba(148,103,189,1)"},"error_x":{"color":"rgba(148,103,189,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p>이제 Orange_2 데이터를 가지고 각 선에 옵션을 주도록 하자.</p>
<ol style="list-style-type: decimal">
<li>우선 plot_ly()를 감싸주도록 한다.</li>
<li>각 컬럼(1~5)번에 대해 각각 add_trace()를 통해 추가 해주어야 한다.</li>
<li>type = “scatter”, mode = “lines”로 설정을 해준다.</li>
<li>line = (), 코드를 추가 하여 옵션을 넣어 준다.
<ul>
<li>이때 괄호 안에 옵션을 추가 해주었다.</li>
</ul></li>
<li>옵션 내용
<ul>
<li>1번은 선의 두께를 4로 지정. (line = list(width = 4))</li>
<li>2번은 선의 형태를 dash로 지정. (line = list(dash = “dash”))</li>
<li>3번은 선의 형태를 dot로 지정. (line = list(dash = “dot”))</li>
<li>4번은 선을 굴곡지게 변경 (line = list(shape = “spline”))</li>
<li>5번은 선의 색을 검은색으로 지정 (line = list(color = “black”))</li>
</ul></li>
<li>layout()은 Chart의 전반부의 옵션을 지정해주는 역할을 한다.
<ul>
<li>범례(legend)를 가로로 변경하고, x,y에 위치를 설정해주었다.</li>
</ul></li>
</ol>
<pre class="r"><code>Orange_2 %&gt;% 
  plot_ly() %&gt;% 
  add_trace(x = ~age, y = ~`1`, type = &quot;scatter&quot;, name = &quot;1 - width(4)&quot;,  mode = &quot;lines&quot;,
            line = list(width = 4)) %&gt;% 
  add_trace(x = ~age, y = ~`2`, type = &quot;scatter&quot;, name = &quot;2 - dash&quot;,  mode = &quot;lines&quot;, 
            line = list(dash = &quot;dash&quot;)) %&gt;% 
  add_trace(x = ~age, y = ~`3`, type = &quot;scatter&quot;, name = &quot;3 - dot&quot;,  mode = &quot;lines&quot;, 
            line = list(dash = &quot;dot&quot;)) %&gt;% 
  add_trace(x = ~age, y = ~`4`, type = &quot;scatter&quot;, name = &quot;4 - spline&quot;,  mode = &quot;lines&quot;, 
            line = list(shape = &quot;spline&quot;)) %&gt;% 
  add_trace(x = ~age, y = ~`5`, type = &quot;scatter&quot;, name = &quot;5 - color(black)&quot;,  mode = &quot;lines&quot;, 
            line = list(color = &quot;black&quot;)) %&gt;% 
  layout(
    legend=list(orientation = &#39;h&#39;, y=1.1, x=0.7)
  )</code></pre>
</div>
</div>
<div id="time-series-in-r" class="section level1">
<h1>3. Time Series in R</h1>
<p>다음은 날짜를 갖고 있는 데이터에 대해 알아보자. 보통 주식차트에서 자주 사용되곤 하는데, 날짜를 x축으로 갖고 있는 데이터라면 주식이 아니더라도 사용했을때 효과적로 사용할 수 있다. 우선 데이터를 준비 하자. Apple과, Microsoft의 2018-01-01 ~ 2019-01-01의 주식을 나타내는 데이터이다.</p>
<pre class="r"><code>library(quantmod)
getSymbols(Symbols = c(&quot;AAPL&quot;, &quot;MSFT&quot;), from = &#39;2018-01-01&#39;, to = &#39;2019-01-01&#39;)</code></pre>
<pre><code>## [1] &quot;AAPL&quot; &quot;MSFT&quot;</code></pre>
<pre class="r"><code>df &lt;- data.frame(Date = index(AAPL), AAPL[,6], MSFT[,6])

df %&gt;% 
  datatable(rownames = NULL, options = list(
    pageLength = 5
  ))</code></pre>
<div id="htmlwidget-5" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-5">{"x":{"filter":"none","data":[["2018-01-02","2018-01-03","2018-01-04","2018-01-05","2018-01-08","2018-01-09","2018-01-10","2018-01-11","2018-01-12","2018-01-16","2018-01-17","2018-01-18","2018-01-19","2018-01-22","2018-01-23","2018-01-24","2018-01-25","2018-01-26","2018-01-29","2018-01-30","2018-01-31","2018-02-01","2018-02-02","2018-02-05","2018-02-06","2018-02-07","2018-02-08","2018-02-09","2018-02-12","2018-02-13","2018-02-14","2018-02-15","2018-02-16","2018-02-20","2018-02-21","2018-02-22","2018-02-23","2018-02-26","2018-02-27","2018-02-28","2018-03-01","2018-03-02","2018-03-05","2018-03-06","2018-03-07","2018-03-08","2018-03-09","2018-03-12","2018-03-13","2018-03-14","2018-03-15","2018-03-16","2018-03-19","2018-03-20","2018-03-21","2018-03-22","2018-03-23","2018-03-26","2018-03-27","2018-03-28","2018-03-29","2018-04-02","2018-04-03","2018-04-04","2018-04-05","2018-04-06","2018-04-09","2018-04-10","2018-04-11","2018-04-12","2018-04-13","2018-04-16","2018-04-17","2018-04-18","2018-04-19","2018-04-20","2018-04-23","2018-04-24","2018-04-25","2018-04-26","2018-04-27","2018-04-30","2018-05-01","2018-05-02","2018-05-03","2018-05-04","2018-05-07","2018-05-08","2018-05-09","2018-05-10","2018-05-11","2018-05-14","2018-05-15","2018-05-16","2018-05-17","2018-05-18","2018-05-21","2018-05-22","2018-05-23","2018-05-24","2018-05-25","2018-05-29","2018-05-30","2018-05-31","2018-06-01","2018-06-04","2018-06-05","2018-06-06","2018-06-07","2018-06-08","2018-06-11","2018-06-12","2018-06-13","2018-06-14","2018-06-15","2018-06-18","2018-06-19","2018-06-20","2018-06-21","2018-06-22","2018-06-25","2018-06-26","2018-06-27","2018-06-28","2018-06-29","2018-07-02","2018-07-03","2018-07-05","2018-07-06","2018-07-09","2018-07-10","2018-07-11","2018-07-12","2018-07-13","2018-07-16","2018-07-17","2018-07-18","2018-07-19","2018-07-20","2018-07-23","2018-07-24","2018-07-25","2018-07-26","2018-07-27","2018-07-30","2018-07-31","2018-08-01","2018-08-02","2018-08-03","2018-08-06","2018-08-07","2018-08-08","2018-08-09","2018-08-10","2018-08-13","2018-08-14","2018-08-15","2018-08-16","2018-08-17","2018-08-20","2018-08-21","2018-08-22","2018-08-23","2018-08-24","2018-08-27","2018-08-28","2018-08-29","2018-08-30","2018-08-31","2018-09-04","2018-09-05","2018-09-06","2018-09-07","2018-09-10","2018-09-11","2018-09-12","2018-09-13","2018-09-14","2018-09-17","2018-09-18","2018-09-19","2018-09-20","2018-09-21","2018-09-24","2018-09-25","2018-09-26","2018-09-27","2018-09-28","2018-10-01","2018-10-02","2018-10-03","2018-10-04","2018-10-05","2018-10-08","2018-10-09","2018-10-10","2018-10-11","2018-10-12","2018-10-15","2018-10-16","2018-10-17","2018-10-18","2018-10-19","2018-10-22","2018-10-23","2018-10-24","2018-10-25","2018-10-26","2018-10-29","2018-10-30","2018-10-31","2018-11-01","2018-11-02","2018-11-05","2018-11-06","2018-11-07","2018-11-08","2018-11-09","2018-11-12","2018-11-13","2018-11-14","2018-11-15","2018-11-16","2018-11-19","2018-11-20","2018-11-21","2018-11-23","2018-11-26","2018-11-27","2018-11-28","2018-11-29","2018-11-30","2018-12-03","2018-12-04","2018-12-06","2018-12-07","2018-12-10","2018-12-11","2018-12-12","2018-12-13","2018-12-14","2018-12-17","2018-12-18","2018-12-19","2018-12-20","2018-12-21","2018-12-24","2018-12-26","2018-12-27","2018-12-28","2018-12-31"],[41.51358,41.506344,41.699139,42.173893,42.017254,42.012432,42.002796,42.241379,42.677582,42.460686,43.16198,43.200535,43.007744,42.655895,42.665524,41.985931,41.236435,41.332829,40.477306,40.238724,40.349579,40.433929,38.679497,37.7131,39.2892,38.448132,37.390179,37.847511,39.37196,39.766384,40.499569,41.859478,41.723969,41.583626,41.394882,41.74091,42.466835,43.306488,43.166153,43.100819,42.34584,42.638641,42.786251,42.74995,42.353111,42.815285,43.550888,43.971928,43.548473,43.178246,43.229061,43.076622,42.418446,42.403927,41.443279,40.857697,39.911564,41.806248,40.734283,40.28421,40.598782,40.332607,40.746387,41.525551,41.813499,40.743973,41.148064,41.922394,41.726391,42.137756,42.28051,42.544277,43.129852,43.033062,41.813499,40.100307,39.984165,39.42762,39.599415,39.737343,39.277592,39.988998,40.918182,42.725754,42.803181,44.482498,44.804325,45.019688,45.336678,45.985168,45.810276,45.703396,45.288029,45.710678,45.421623,45.256443,45.577084,45.462914,45.754414,45.703396,45.80785,45.642673,45.545509,45.392467,46.211071,46.597305,46.956806,47.119556,46.993248,46.565727,46.451557,46.706612,46.322815,46.347111,45.87101,45.84671,45.105843,45.302597,45.049973,44.918793,44.250797,44.79977,44.734184,45.059692,44.964947,45.467773,44.675892,45.035393,45.659668,46.293667,46.237808,45.63781,46.402977,46.475845,46.373833,46.504997,46.249939,46.609451,46.502579,46.543858,46.881512,47.323605,47.17543,46.390831,46.130917,46.223221,48.946239,50.376972,50.522717,50.785061,50.308956,50.342972,50.738911,50.587772,50.91441,51.128937,51.248371,51.999161,53.037575,52.520805,52.418423,52.420864,52.528122,52.691441,53.125328,53.554352,54.353893,54.8536,55.487377,55.665325,55.302128,54.383144,53.944374,53.220398,54.565971,53.888309,55.189991,54.563526,53.11071,53.198463,53.230145,53.6348,53.057083,53.820053,54.16132,53.729858,54.834099,55.026672,55.397186,55.889587,56.569679,55.575134,54.673214,54.546471,55.302128,52.740185,52.274609,54.141819,52.983948,54.151566,53.917561,52.657307,53.459282,53.785923,54.29295,52.430614,53.578732,52.725567,51.735893,51.994282,53.349594,54.168629,50.575588,49.139832,49.671238,51.177677,50.999111,50.01577,47.496269,47.021725,45.693485,46.821144,47.339722,45.463551,43.291397,43.242474,42.144165,42.714111,42.621162,44.260063,43.920044,43.682777,45.209152,43.220459,42.738575,41.214645,41.486164,41.24889,41.363853,41.816387,40.478359,40.101662,40.622688,39.355591,38.362465,36.870335,35.916355,38.445637,38.196133,38.215702,38.585068],[82.599319,82.983727,83.714119,84.752014,84.838486,84.780838,84.396439,84.646286,86.107033,84.905762,86.625977,86.587547,86.49144,88.038666,88.317383,88.240479,88.730621,90.393173,90.258621,89.124626,91.306129,90.585373,88.202042,84.56942,87.769585,86.116646,81.695984,84.742393,85.655342,86.328072,87.679825,89.466042,88.828796,89.523979,88.336365,88.568108,90.817787,92.130898,90.952972,90.537788,89.649498,89.842606,90.41227,90.103294,90.62468,91.175034,93.212303,93.434364,91.155731,90.615021,90.933655,91.339172,89.68811,89.919838,89.292252,86.694969,84.17495,90.547447,86.386002,86.308754,88.123955,85.46875,86.617722,89.147423,89.195686,87.119804,87.641182,89.678459,88.693619,90.354324,89.871559,90.923996,92.758484,93.115746,92.797119,91.72538,92.063309,89.910179,89.128105,91.010887,92.51712,90.296387,91.72538,90.286751,90.827438,91.879868,92.90332,92.507462,93.598503,94.535065,94.332306,94.65094,93.965424,94.207832,93.267227,93.441765,94.644226,94.547249,95.672112,95.33271,95.381195,95.041794,95.953316,95.846657,97.73761,98.590965,99.095207,99.386124,97.824883,98.552162,97.989731,98.241867,97.795784,98.348526,97.097595,97.805489,97.805489,98.784904,98.077011,97.369118,95.410301,96.079399,94.586037,95.643021,95.623627,96.981239,96.050308,96.738808,98.096413,98.765503,99.027321,98.891571,101.034645,102.237091,101.732826,102.741348,101.93647,101.238289,103.051636,104.70018,104.399544,107.473549,106.300194,104.418945,102.178909,102.867409,103.061348,104.312279,104.768051,104.855316,105.582596,106.174126,106.348679,105.698975,104.932899,106.242012,104.801315,104.781845,104.723434,104.032303,103.165932,104.217239,104.703964,105.521667,106.689789,107.332291,109.04554,108.977402,109.347313,108.743774,105.609268,105.852623,105.336708,106.475639,108.28624,108.743774,109.911903,110.359695,109.162361,110.203934,108.734024,110.554382,111.226074,111.625175,111.411011,110.953514,111.372078,111.33313,112.54023,112.09243,112.1119,109.795097,109.152618,107.906609,109.279175,103.341148,103.097778,106.660583,104.742897,108.052628,107.770317,105.619011,105.774765,106.718994,105.229622,99.603111,105.424324,104.119904,101.092476,100.975662,103.973877,103.107498,103.341148,104.655296,104.859718,108.987129,108.782707,106.660583,104.032303,104.100433,102.624176,104.882553,105.869987,102.282005,99.437035,100.80574,100.76664,104.09066,104.745682,108.636749,107.727531,108.41188,109.58506,106.094833,106.749878,102.477531,105.185608,106.163269,106.642326,107.004051,103.660484,100.59066,101.646523,101.372787,99.241501,96.03479,92.026421,98.312729,98.918884,98.14653,99.300156]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>Date<\/th>\n      <th>AAPL.Adjusted<\/th>\n      <th>MSFT.Adjusted<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":5,"columnDefs":[{"className":"dt-right","targets":[1,2]}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[5,10,25,50,100]}},"evals":[],"jsHooks":[]}</script>
<div id="plotly-time-series-line-chart" class="section level2">
<h2>3-1. Plotly Time Series Line Chart</h2>
<div id="htmlwidget-6" style="width:864px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-6">{"x":{"visdat":{"138c13f50017":["function () ","plotlyVisDat"]},"cur_data":"138c13f50017","attrs":{"138c13f50017":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"y":{},"name":"Apple","type":"scatter","mode":"lines","inherit":true},"138c13f50017.1":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"y":{},"name":"Microsoft","type":"scatter","mode":"lines","inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Apple과 Microsoft 주식 비교","xaxis":{"domain":[0,1],"automargin":true,"rangeselector":{"buttons":[{"count":3,"label":"3 mo","step":"month","stepmode":"backward"},{"count":6,"label":"6 mo","step":"month","stepmode":"backward"},{"count":1,"label":"1 yr","step":"year","stepmode":"backward"},{"count":1,"label":"YTD","step":"year","stepmode":"todate"},{"step":"all"}]},"rangeslider":{"type":"date"},"title":"Date"},"yaxis":{"domain":[0,1],"automargin":true,"title":"Price"},"hovermode":"closest","showlegend":true},"source":"A","config":{"showSendToCloud":false},"data":[{"x":["2018-01-02","2018-01-03","2018-01-04","2018-01-05","2018-01-08","2018-01-09","2018-01-10","2018-01-11","2018-01-12","2018-01-16","2018-01-17","2018-01-18","2018-01-19","2018-01-22","2018-01-23","2018-01-24","2018-01-25","2018-01-26","2018-01-29","2018-01-30","2018-01-31","2018-02-01","2018-02-02","2018-02-05","2018-02-06","2018-02-07","2018-02-08","2018-02-09","2018-02-12","2018-02-13","2018-02-14","2018-02-15","2018-02-16","2018-02-20","2018-02-21","2018-02-22","2018-02-23","2018-02-26","2018-02-27","2018-02-28","2018-03-01","2018-03-02","2018-03-05","2018-03-06","2018-03-07","2018-03-08","2018-03-09","2018-03-12","2018-03-13","2018-03-14","2018-03-15","2018-03-16","2018-03-19","2018-03-20","2018-03-21","2018-03-22","2018-03-23","2018-03-26","2018-03-27","2018-03-28","2018-03-29","2018-04-02","2018-04-03","2018-04-04","2018-04-05","2018-04-06","2018-04-09","2018-04-10","2018-04-11","2018-04-12","2018-04-13","2018-04-16","2018-04-17","2018-04-18","2018-04-19","2018-04-20","2018-04-23","2018-04-24","2018-04-25","2018-04-26","2018-04-27","2018-04-30","2018-05-01","2018-05-02","2018-05-03","2018-05-04","2018-05-07","2018-05-08","2018-05-09","2018-05-10","2018-05-11","2018-05-14","2018-05-15","2018-05-16","2018-05-17","2018-05-18","2018-05-21","2018-05-22","2018-05-23","2018-05-24","2018-05-25","2018-05-29","2018-05-30","2018-05-31","2018-06-01","2018-06-04","2018-06-05","2018-06-06","2018-06-07","2018-06-08","2018-06-11","2018-06-12","2018-06-13","2018-06-14","2018-06-15","2018-06-18","2018-06-19","2018-06-20","2018-06-21","2018-06-22","2018-06-25","2018-06-26","2018-06-27","2018-06-28","2018-06-29","2018-07-02","2018-07-03","2018-07-05","2018-07-06","2018-07-09","2018-07-10","2018-07-11","2018-07-12","2018-07-13","2018-07-16","2018-07-17","2018-07-18","2018-07-19","2018-07-20","2018-07-23","2018-07-24","2018-07-25","2018-07-26","2018-07-27","2018-07-30","2018-07-31","2018-08-01","2018-08-02","2018-08-03","2018-08-06","2018-08-07","2018-08-08","2018-08-09","2018-08-10","2018-08-13","2018-08-14","2018-08-15","2018-08-16","2018-08-17","2018-08-20","2018-08-21","2018-08-22","2018-08-23","2018-08-24","2018-08-27","2018-08-28","2018-08-29","2018-08-30","2018-08-31","2018-09-04","2018-09-05","2018-09-06","2018-09-07","2018-09-10","2018-09-11","2018-09-12","2018-09-13","2018-09-14","2018-09-17","2018-09-18","2018-09-19","2018-09-20","2018-09-21","2018-09-24","2018-09-25","2018-09-26","2018-09-27","2018-09-28","2018-10-01","2018-10-02","2018-10-03","2018-10-04","2018-10-05","2018-10-08","2018-10-09","2018-10-10","2018-10-11","2018-10-12","2018-10-15","2018-10-16","2018-10-17","2018-10-18","2018-10-19","2018-10-22","2018-10-23","2018-10-24","2018-10-25","2018-10-26","2018-10-29","2018-10-30","2018-10-31","2018-11-01","2018-11-02","2018-11-05","2018-11-06","2018-11-07","2018-11-08","2018-11-09","2018-11-12","2018-11-13","2018-11-14","2018-11-15","2018-11-16","2018-11-19","2018-11-20","2018-11-21","2018-11-23","2018-11-26","2018-11-27","2018-11-28","2018-11-29","2018-11-30","2018-12-03","2018-12-04","2018-12-06","2018-12-07","2018-12-10","2018-12-11","2018-12-12","2018-12-13","2018-12-14","2018-12-17","2018-12-18","2018-12-19","2018-12-20","2018-12-21","2018-12-24","2018-12-26","2018-12-27","2018-12-28","2018-12-31"],"y":[41.51358,41.506344,41.699139,42.173893,42.017254,42.012432,42.002796,42.241379,42.677582,42.460686,43.16198,43.200535,43.007744,42.655895,42.665524,41.985931,41.236435,41.332829,40.477306,40.238724,40.349579,40.433929,38.679497,37.7131,39.2892,38.448132,37.390179,37.847511,39.37196,39.766384,40.499569,41.859478,41.723969,41.583626,41.394882,41.74091,42.466835,43.306488,43.166153,43.100819,42.34584,42.638641,42.786251,42.74995,42.353111,42.815285,43.550888,43.971928,43.548473,43.178246,43.229061,43.076622,42.418446,42.403927,41.443279,40.857697,39.911564,41.806248,40.734283,40.28421,40.598782,40.332607,40.746387,41.525551,41.813499,40.743973,41.148064,41.922394,41.726391,42.137756,42.28051,42.544277,43.129852,43.033062,41.813499,40.100307,39.984165,39.42762,39.599415,39.737343,39.277592,39.988998,40.918182,42.725754,42.803181,44.482498,44.804325,45.019688,45.336678,45.985168,45.810276,45.703396,45.288029,45.710678,45.421623,45.256443,45.577084,45.462914,45.754414,45.703396,45.80785,45.642673,45.545509,45.392467,46.211071,46.597305,46.956806,47.119556,46.993248,46.565727,46.451557,46.706612,46.322815,46.347111,45.87101,45.84671,45.105843,45.302597,45.049973,44.918793,44.250797,44.79977,44.734184,45.059692,44.964947,45.467773,44.675892,45.035393,45.659668,46.293667,46.237808,45.63781,46.402977,46.475845,46.373833,46.504997,46.249939,46.609451,46.502579,46.543858,46.881512,47.323605,47.17543,46.390831,46.130917,46.223221,48.946239,50.376972,50.522717,50.785061,50.308956,50.342972,50.738911,50.587772,50.91441,51.128937,51.248371,51.999161,53.037575,52.520805,52.418423,52.420864,52.528122,52.691441,53.125328,53.554352,54.353893,54.8536,55.487377,55.665325,55.302128,54.383144,53.944374,53.220398,54.565971,53.888309,55.189991,54.563526,53.11071,53.198463,53.230145,53.6348,53.057083,53.820053,54.16132,53.729858,54.834099,55.026672,55.397186,55.889587,56.569679,55.575134,54.673214,54.546471,55.302128,52.740185,52.274609,54.141819,52.983948,54.151566,53.917561,52.657307,53.459282,53.785923,54.29295,52.430614,53.578732,52.725567,51.735893,51.994282,53.349594,54.168629,50.575588,49.139832,49.671238,51.177677,50.999111,50.01577,47.496269,47.021725,45.693485,46.821144,47.339722,45.463551,43.291397,43.242474,42.144165,42.714111,42.621162,44.260063,43.920044,43.682777,45.209152,43.220459,42.738575,41.214645,41.486164,41.24889,41.363853,41.816387,40.478359,40.101662,40.622688,39.355591,38.362465,36.870335,35.916355,38.445637,38.196133,38.215702,38.585068],"name":"Apple","type":"scatter","mode":"lines","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"line":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2018-01-02","2018-01-03","2018-01-04","2018-01-05","2018-01-08","2018-01-09","2018-01-10","2018-01-11","2018-01-12","2018-01-16","2018-01-17","2018-01-18","2018-01-19","2018-01-22","2018-01-23","2018-01-24","2018-01-25","2018-01-26","2018-01-29","2018-01-30","2018-01-31","2018-02-01","2018-02-02","2018-02-05","2018-02-06","2018-02-07","2018-02-08","2018-02-09","2018-02-12","2018-02-13","2018-02-14","2018-02-15","2018-02-16","2018-02-20","2018-02-21","2018-02-22","2018-02-23","2018-02-26","2018-02-27","2018-02-28","2018-03-01","2018-03-02","2018-03-05","2018-03-06","2018-03-07","2018-03-08","2018-03-09","2018-03-12","2018-03-13","2018-03-14","2018-03-15","2018-03-16","2018-03-19","2018-03-20","2018-03-21","2018-03-22","2018-03-23","2018-03-26","2018-03-27","2018-03-28","2018-03-29","2018-04-02","2018-04-03","2018-04-04","2018-04-05","2018-04-06","2018-04-09","2018-04-10","2018-04-11","2018-04-12","2018-04-13","2018-04-16","2018-04-17","2018-04-18","2018-04-19","2018-04-20","2018-04-23","2018-04-24","2018-04-25","2018-04-26","2018-04-27","2018-04-30","2018-05-01","2018-05-02","2018-05-03","2018-05-04","2018-05-07","2018-05-08","2018-05-09","2018-05-10","2018-05-11","2018-05-14","2018-05-15","2018-05-16","2018-05-17","2018-05-18","2018-05-21","2018-05-22","2018-05-23","2018-05-24","2018-05-25","2018-05-29","2018-05-30","2018-05-31","2018-06-01","2018-06-04","2018-06-05","2018-06-06","2018-06-07","2018-06-08","2018-06-11","2018-06-12","2018-06-13","2018-06-14","2018-06-15","2018-06-18","2018-06-19","2018-06-20","2018-06-21","2018-06-22","2018-06-25","2018-06-26","2018-06-27","2018-06-28","2018-06-29","2018-07-02","2018-07-03","2018-07-05","2018-07-06","2018-07-09","2018-07-10","2018-07-11","2018-07-12","2018-07-13","2018-07-16","2018-07-17","2018-07-18","2018-07-19","2018-07-20","2018-07-23","2018-07-24","2018-07-25","2018-07-26","2018-07-27","2018-07-30","2018-07-31","2018-08-01","2018-08-02","2018-08-03","2018-08-06","2018-08-07","2018-08-08","2018-08-09","2018-08-10","2018-08-13","2018-08-14","2018-08-15","2018-08-16","2018-08-17","2018-08-20","2018-08-21","2018-08-22","2018-08-23","2018-08-24","2018-08-27","2018-08-28","2018-08-29","2018-08-30","2018-08-31","2018-09-04","2018-09-05","2018-09-06","2018-09-07","2018-09-10","2018-09-11","2018-09-12","2018-09-13","2018-09-14","2018-09-17","2018-09-18","2018-09-19","2018-09-20","2018-09-21","2018-09-24","2018-09-25","2018-09-26","2018-09-27","2018-09-28","2018-10-01","2018-10-02","2018-10-03","2018-10-04","2018-10-05","2018-10-08","2018-10-09","2018-10-10","2018-10-11","2018-10-12","2018-10-15","2018-10-16","2018-10-17","2018-10-18","2018-10-19","2018-10-22","2018-10-23","2018-10-24","2018-10-25","2018-10-26","2018-10-29","2018-10-30","2018-10-31","2018-11-01","2018-11-02","2018-11-05","2018-11-06","2018-11-07","2018-11-08","2018-11-09","2018-11-12","2018-11-13","2018-11-14","2018-11-15","2018-11-16","2018-11-19","2018-11-20","2018-11-21","2018-11-23","2018-11-26","2018-11-27","2018-11-28","2018-11-29","2018-11-30","2018-12-03","2018-12-04","2018-12-06","2018-12-07","2018-12-10","2018-12-11","2018-12-12","2018-12-13","2018-12-14","2018-12-17","2018-12-18","2018-12-19","2018-12-20","2018-12-21","2018-12-24","2018-12-26","2018-12-27","2018-12-28","2018-12-31"],"y":[82.599319,82.983727,83.714119,84.752014,84.838486,84.780838,84.396439,84.646286,86.107033,84.905762,86.625977,86.587547,86.49144,88.038666,88.317383,88.240479,88.730621,90.393173,90.258621,89.124626,91.306129,90.585373,88.202042,84.56942,87.769585,86.116646,81.695984,84.742393,85.655342,86.328072,87.679825,89.466042,88.828796,89.523979,88.336365,88.568108,90.817787,92.130898,90.952972,90.537788,89.649498,89.842606,90.41227,90.103294,90.62468,91.175034,93.212303,93.434364,91.155731,90.615021,90.933655,91.339172,89.68811,89.919838,89.292252,86.694969,84.17495,90.547447,86.386002,86.308754,88.123955,85.46875,86.617722,89.147423,89.195686,87.119804,87.641182,89.678459,88.693619,90.354324,89.871559,90.923996,92.758484,93.115746,92.797119,91.72538,92.063309,89.910179,89.128105,91.010887,92.51712,90.296387,91.72538,90.286751,90.827438,91.879868,92.90332,92.507462,93.598503,94.535065,94.332306,94.65094,93.965424,94.207832,93.267227,93.441765,94.644226,94.547249,95.672112,95.33271,95.381195,95.041794,95.953316,95.846657,97.73761,98.590965,99.095207,99.386124,97.824883,98.552162,97.989731,98.241867,97.795784,98.348526,97.097595,97.805489,97.805489,98.784904,98.077011,97.369118,95.410301,96.079399,94.586037,95.643021,95.623627,96.981239,96.050308,96.738808,98.096413,98.765503,99.027321,98.891571,101.034645,102.237091,101.732826,102.741348,101.93647,101.238289,103.051636,104.70018,104.399544,107.473549,106.300194,104.418945,102.178909,102.867409,103.061348,104.312279,104.768051,104.855316,105.582596,106.174126,106.348679,105.698975,104.932899,106.242012,104.801315,104.781845,104.723434,104.032303,103.165932,104.217239,104.703964,105.521667,106.689789,107.332291,109.04554,108.977402,109.347313,108.743774,105.609268,105.852623,105.336708,106.475639,108.28624,108.743774,109.911903,110.359695,109.162361,110.203934,108.734024,110.554382,111.226074,111.625175,111.411011,110.953514,111.372078,111.33313,112.54023,112.09243,112.1119,109.795097,109.152618,107.906609,109.279175,103.341148,103.097778,106.660583,104.742897,108.052628,107.770317,105.619011,105.774765,106.718994,105.229622,99.603111,105.424324,104.119904,101.092476,100.975662,103.973877,103.107498,103.341148,104.655296,104.859718,108.987129,108.782707,106.660583,104.032303,104.100433,102.624176,104.882553,105.869987,102.282005,99.437035,100.80574,100.76664,104.09066,104.745682,108.636749,107.727531,108.41188,109.58506,106.094833,106.749878,102.477531,105.185608,106.163269,106.642326,107.004051,103.660484,100.59066,101.646523,101.372787,99.241501,96.03479,92.026421,98.312729,98.918884,98.14653,99.300156],"name":"Microsoft","type":"scatter","mode":"lines","marker":{"color":"rgba(255,127,14,1)","line":{"color":"rgba(255,127,14,1)"}},"error_y":{"color":"rgba(255,127,14,1)"},"error_x":{"color":"rgba(255,127,14,1)"},"line":{"color":"rgba(255,127,14,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p>이제 날짜를 갖고 있는 데이터는 어떻게더 효과적으로 표현할수 있느지 알아보자. 데이터를 plot_ly()로 감싸주고, add_trace()에 각각의 옵션은 직전에 했던 방법과 동일하다. 여기서 추가를 해줄 것은 layout 옵션이다. 이 부분에 대해서 더 자세히 알아보는것 보다는 아래의 코드를 그대로 복사 해서 써주는게 더 편하다.</p>
<ol style="list-style-type: decimal">
<li>layout을 추가 해준다.</li>
<li>xaxis = list()형식으로 추가 해주고 안에 옵션들을 넣어주자.
<ul>
<li>rangeselector = list()옵션을 넣어주어 범위를 설정할 수 있도록 해준다.</li>
<li>buttons은 rangeselector = list()의 괄호안에 추가로 넣어 주어 기간을 버튼으로 볼수 있도록 해주자.</li>
</ul></li>
</ol>
<pre class="r"><code>df %&gt;% 
  plot_ly() %&gt;% 
  add_trace(x = ~Date, y = ~AAPL.Adjusted, name = &quot;Apple&quot;, type = &quot;scatter&quot;,  mode = &quot;lines&quot;) %&gt;% 
  add_trace(x = ~Date, y = ~MSFT.Adjusted, name = &quot;Microsoft&quot;, type = &quot;scatter&quot;,  mode = &quot;lines&quot;) %&gt;% 
  layout(
    title = &quot;Apple과 Microsoft 주식 비교&quot;,
    xaxis = list(
      rangeselector = list(
        buttons = list(
          list(
            count = 3,
            label = &quot;3 mo&quot;,
            step = &quot;month&quot;,
            stepmode = &quot;backward&quot;),
          list(
            count = 6,
            label = &quot;6 mo&quot;,
            step = &quot;month&quot;,
            stepmode = &quot;backward&quot;),
          list(
            count = 1,
            label = &quot;1 yr&quot;,
            step = &quot;year&quot;,
            stepmode = &quot;backward&quot;),
          list(
            count = 1,
            label = &quot;YTD&quot;,
            step = &quot;year&quot;,
            stepmode = &quot;todate&quot;),
          list(step = &quot;all&quot;))),
      rangeslider = list(type = &quot;date&quot;)),
    yaxis = list(title = &quot;Price&quot;))</code></pre>
</div>
</div>
<div id="목적-전달형-시각화" class="section level1">
<h1>4. 목적 전달형 시각화</h1>
<div id="htmlwidget-7" style="width:864px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-7">{"x":{"visdat":{"138c631d628b":["function () ","plotlyVisDat"]},"cur_data":"138c631d628b","attrs":{"138c631d628b":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"y":{},"name":"Apple","type":"scatter","mode":"lines","line":{"width":1,"color":"red"},"inherit":true},"138c631d628b.1":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"y":{},"name":"Microsoft","type":"scatter","mode":"lines","line":{"width":1,"color":"blue"},"inherit":true},"138c631d628b.2":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"y":{},"type":"scatter","mode":"makers","marker":{"size":10,"color":"red"},"inherit":true},"138c631d628b.3":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"y":{},"type":"scatter","mode":"makers","marker":{"size":10,"color":"blue"},"inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Apple과 Microsoft 주식 변화","xaxis":{"domain":[0,1],"automargin":true,"showgrid":false,"title":"Date"},"yaxis":{"domain":[0,1],"automargin":true,"title":"","showgrid":false},"showlegend":false,"annotations":[{"xref":"x","yref":"y","x":"2018-01-02","y":41.51358,"xanchor":"right","yanchor":"middle","text":"Apple <br /> 2018-01-02 <br /> 41.514","font":{"family":"Arial","size":16,"color":"rgba(67,67,67,1)"},"showarrow":false},{"xref":"x","yref":"y","x":"2018-01-02","y":41.51358,"xanchor":"right","yanchor":"middle","text":"Apple <br /> 2018-01-02 <br /> 41.514","font":{"family":"Arial","size":16,"color":"rgba(67,67,67,1)"},"showarrow":false},{"xref":"x","yref":"y","x":"2018-01-02","y":41.51358,"xanchor":"right","yanchor":"middle","text":"Apple <br /> 2018-01-02 <br /> 41.514","font":{"family":"Arial","size":16,"color":"rgba(67,67,67,1)"},"showarrow":false},{"xref":"x","yref":"y","x":"2018-12-31","y":38.585068,"xanchor":"left","yanchor":"middle","text":"Apple <br /> 2018-12-31 <br /> 38.585","font":{"family":"Arial","size":16,"color":"rgba(67,67,67,1)"},"showarrow":false},{"xref":"x","yref":"y","x":"2018-12-31","y":38.585068,"xanchor":"left","yanchor":"middle","text":"Apple <br /> 2018-12-31 <br /> 38.585","font":{"family":"Arial","size":16,"color":"rgba(67,67,67,1)"},"showarrow":false},{"xref":"x","yref":"y","x":"2018-12-31","y":38.585068,"xanchor":"left","yanchor":"middle","text":"Apple <br /> 2018-12-31 <br /> 38.585","font":{"family":"Arial","size":16,"color":"rgba(67,67,67,1)"},"showarrow":false},{"xref":"x","yref":"y","x":"2018-10-03","y":56.569679,"xanchor":"middle","yanchor":"bottom","text":"Apple Max <br /> 2018-10-03 <br /> 56.57","font":{"family":"Arial","size":16,"color":"rgba(67,67,67,1)"},"showarrow":false},{"xref":"x","yref":"y","x":"2018-10-03","y":56.569679,"xanchor":"middle","yanchor":"bottom","text":"Apple Max <br /> 2018-10-03 <br /> 56.57","font":{"family":"Arial","size":16,"color":"rgba(67,67,67,1)"},"showarrow":false},{"xref":"x","yref":"y","x":"2018-10-03","y":56.569679,"xanchor":"middle","yanchor":"bottom","text":"Apple Max <br /> 2018-10-03 <br /> 56.57","font":{"family":"Arial","size":16,"color":"rgba(67,67,67,1)"},"showarrow":false},{"xref":"x","yref":"y","x":"2018-01-02","y":82.599319,"xanchor":"right","yanchor":"middle","text":"Microsoft <br /> 2018-01-02 <br /> 82.599","font":{"family":"Arial","size":16,"color":"rgba(67,67,67,1)"},"showarrow":false},{"xref":"x","yref":"y","x":"2018-01-02","y":82.599319,"xanchor":"right","yanchor":"middle","text":"Microsoft <br /> 2018-01-02 <br /> 82.599","font":{"family":"Arial","size":16,"color":"rgba(67,67,67,1)"},"showarrow":false},{"xref":"x","yref":"y","x":"2018-01-02","y":82.599319,"xanchor":"right","yanchor":"middle","text":"Microsoft <br /> 2018-01-02 <br /> 82.599","font":{"family":"Arial","size":16,"color":"rgba(67,67,67,1)"},"showarrow":false},{"xref":"x","yref":"y","x":"2018-12-31","y":99.300156,"xanchor":"left","yanchor":"middle","text":"Microsoft <br /> 2018-12-31 <br /> 99.3","font":{"family":"Arial","size":16,"color":"rgba(67,67,67,1)"},"showarrow":false},{"xref":"x","yref":"y","x":"2018-12-31","y":99.300156,"xanchor":"left","yanchor":"middle","text":"Microsoft <br /> 2018-12-31 <br /> 99.3","font":{"family":"Arial","size":16,"color":"rgba(67,67,67,1)"},"showarrow":false},{"xref":"x","yref":"y","x":"2018-12-31","y":99.300156,"xanchor":"left","yanchor":"middle","text":"Microsoft <br /> 2018-12-31 <br /> 99.3","font":{"family":"Arial","size":16,"color":"rgba(67,67,67,1)"},"showarrow":false},{"xref":"x","yref":"y","x":"2018-10-01","y":112.54023,"xanchor":"middle","yanchor":"bottom","text":"Microsoft Max <br /> 2018-10-01 <br /> 112.54","font":{"family":"Arial","size":16,"color":"rgba(67,67,67,1)"},"showarrow":false},{"xref":"x","yref":"y","x":"2018-10-01","y":112.54023,"xanchor":"middle","yanchor":"bottom","text":"Microsoft Max <br /> 2018-10-01 <br /> 112.54","font":{"family":"Arial","size":16,"color":"rgba(67,67,67,1)"},"showarrow":false},{"xref":"x","yref":"y","x":"2018-10-01","y":112.54023,"xanchor":"middle","yanchor":"bottom","text":"Microsoft Max <br /> 2018-10-01 <br /> 112.54","font":{"family":"Arial","size":16,"color":"rgba(67,67,67,1)"},"showarrow":false}],"hovermode":"closest"},"source":"A","config":{"showSendToCloud":false},"data":[{"x":["2018-01-02","2018-01-03","2018-01-04","2018-01-05","2018-01-08","2018-01-09","2018-01-10","2018-01-11","2018-01-12","2018-01-16","2018-01-17","2018-01-18","2018-01-19","2018-01-22","2018-01-23","2018-01-24","2018-01-25","2018-01-26","2018-01-29","2018-01-30","2018-01-31","2018-02-01","2018-02-02","2018-02-05","2018-02-06","2018-02-07","2018-02-08","2018-02-09","2018-02-12","2018-02-13","2018-02-14","2018-02-15","2018-02-16","2018-02-20","2018-02-21","2018-02-22","2018-02-23","2018-02-26","2018-02-27","2018-02-28","2018-03-01","2018-03-02","2018-03-05","2018-03-06","2018-03-07","2018-03-08","2018-03-09","2018-03-12","2018-03-13","2018-03-14","2018-03-15","2018-03-16","2018-03-19","2018-03-20","2018-03-21","2018-03-22","2018-03-23","2018-03-26","2018-03-27","2018-03-28","2018-03-29","2018-04-02","2018-04-03","2018-04-04","2018-04-05","2018-04-06","2018-04-09","2018-04-10","2018-04-11","2018-04-12","2018-04-13","2018-04-16","2018-04-17","2018-04-18","2018-04-19","2018-04-20","2018-04-23","2018-04-24","2018-04-25","2018-04-26","2018-04-27","2018-04-30","2018-05-01","2018-05-02","2018-05-03","2018-05-04","2018-05-07","2018-05-08","2018-05-09","2018-05-10","2018-05-11","2018-05-14","2018-05-15","2018-05-16","2018-05-17","2018-05-18","2018-05-21","2018-05-22","2018-05-23","2018-05-24","2018-05-25","2018-05-29","2018-05-30","2018-05-31","2018-06-01","2018-06-04","2018-06-05","2018-06-06","2018-06-07","2018-06-08","2018-06-11","2018-06-12","2018-06-13","2018-06-14","2018-06-15","2018-06-18","2018-06-19","2018-06-20","2018-06-21","2018-06-22","2018-06-25","2018-06-26","2018-06-27","2018-06-28","2018-06-29","2018-07-02","2018-07-03","2018-07-05","2018-07-06","2018-07-09","2018-07-10","2018-07-11","2018-07-12","2018-07-13","2018-07-16","2018-07-17","2018-07-18","2018-07-19","2018-07-20","2018-07-23","2018-07-24","2018-07-25","2018-07-26","2018-07-27","2018-07-30","2018-07-31","2018-08-01","2018-08-02","2018-08-03","2018-08-06","2018-08-07","2018-08-08","2018-08-09","2018-08-10","2018-08-13","2018-08-14","2018-08-15","2018-08-16","2018-08-17","2018-08-20","2018-08-21","2018-08-22","2018-08-23","2018-08-24","2018-08-27","2018-08-28","2018-08-29","2018-08-30","2018-08-31","2018-09-04","2018-09-05","2018-09-06","2018-09-07","2018-09-10","2018-09-11","2018-09-12","2018-09-13","2018-09-14","2018-09-17","2018-09-18","2018-09-19","2018-09-20","2018-09-21","2018-09-24","2018-09-25","2018-09-26","2018-09-27","2018-09-28","2018-10-01","2018-10-02","2018-10-03","2018-10-04","2018-10-05","2018-10-08","2018-10-09","2018-10-10","2018-10-11","2018-10-12","2018-10-15","2018-10-16","2018-10-17","2018-10-18","2018-10-19","2018-10-22","2018-10-23","2018-10-24","2018-10-25","2018-10-26","2018-10-29","2018-10-30","2018-10-31","2018-11-01","2018-11-02","2018-11-05","2018-11-06","2018-11-07","2018-11-08","2018-11-09","2018-11-12","2018-11-13","2018-11-14","2018-11-15","2018-11-16","2018-11-19","2018-11-20","2018-11-21","2018-11-23","2018-11-26","2018-11-27","2018-11-28","2018-11-29","2018-11-30","2018-12-03","2018-12-04","2018-12-06","2018-12-07","2018-12-10","2018-12-11","2018-12-12","2018-12-13","2018-12-14","2018-12-17","2018-12-18","2018-12-19","2018-12-20","2018-12-21","2018-12-24","2018-12-26","2018-12-27","2018-12-28","2018-12-31"],"y":[41.51358,41.506344,41.699139,42.173893,42.017254,42.012432,42.002796,42.241379,42.677582,42.460686,43.16198,43.200535,43.007744,42.655895,42.665524,41.985931,41.236435,41.332829,40.477306,40.238724,40.349579,40.433929,38.679497,37.7131,39.2892,38.448132,37.390179,37.847511,39.37196,39.766384,40.499569,41.859478,41.723969,41.583626,41.394882,41.74091,42.466835,43.306488,43.166153,43.100819,42.34584,42.638641,42.786251,42.74995,42.353111,42.815285,43.550888,43.971928,43.548473,43.178246,43.229061,43.076622,42.418446,42.403927,41.443279,40.857697,39.911564,41.806248,40.734283,40.28421,40.598782,40.332607,40.746387,41.525551,41.813499,40.743973,41.148064,41.922394,41.726391,42.137756,42.28051,42.544277,43.129852,43.033062,41.813499,40.100307,39.984165,39.42762,39.599415,39.737343,39.277592,39.988998,40.918182,42.725754,42.803181,44.482498,44.804325,45.019688,45.336678,45.985168,45.810276,45.703396,45.288029,45.710678,45.421623,45.256443,45.577084,45.462914,45.754414,45.703396,45.80785,45.642673,45.545509,45.392467,46.211071,46.597305,46.956806,47.119556,46.993248,46.565727,46.451557,46.706612,46.322815,46.347111,45.87101,45.84671,45.105843,45.302597,45.049973,44.918793,44.250797,44.79977,44.734184,45.059692,44.964947,45.467773,44.675892,45.035393,45.659668,46.293667,46.237808,45.63781,46.402977,46.475845,46.373833,46.504997,46.249939,46.609451,46.502579,46.543858,46.881512,47.323605,47.17543,46.390831,46.130917,46.223221,48.946239,50.376972,50.522717,50.785061,50.308956,50.342972,50.738911,50.587772,50.91441,51.128937,51.248371,51.999161,53.037575,52.520805,52.418423,52.420864,52.528122,52.691441,53.125328,53.554352,54.353893,54.8536,55.487377,55.665325,55.302128,54.383144,53.944374,53.220398,54.565971,53.888309,55.189991,54.563526,53.11071,53.198463,53.230145,53.6348,53.057083,53.820053,54.16132,53.729858,54.834099,55.026672,55.397186,55.889587,56.569679,55.575134,54.673214,54.546471,55.302128,52.740185,52.274609,54.141819,52.983948,54.151566,53.917561,52.657307,53.459282,53.785923,54.29295,52.430614,53.578732,52.725567,51.735893,51.994282,53.349594,54.168629,50.575588,49.139832,49.671238,51.177677,50.999111,50.01577,47.496269,47.021725,45.693485,46.821144,47.339722,45.463551,43.291397,43.242474,42.144165,42.714111,42.621162,44.260063,43.920044,43.682777,45.209152,43.220459,42.738575,41.214645,41.486164,41.24889,41.363853,41.816387,40.478359,40.101662,40.622688,39.355591,38.362465,36.870335,35.916355,38.445637,38.196133,38.215702,38.585068],"name":"Apple","type":"scatter","mode":"lines","line":{"color":"red","width":1},"marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2018-01-02","2018-01-03","2018-01-04","2018-01-05","2018-01-08","2018-01-09","2018-01-10","2018-01-11","2018-01-12","2018-01-16","2018-01-17","2018-01-18","2018-01-19","2018-01-22","2018-01-23","2018-01-24","2018-01-25","2018-01-26","2018-01-29","2018-01-30","2018-01-31","2018-02-01","2018-02-02","2018-02-05","2018-02-06","2018-02-07","2018-02-08","2018-02-09","2018-02-12","2018-02-13","2018-02-14","2018-02-15","2018-02-16","2018-02-20","2018-02-21","2018-02-22","2018-02-23","2018-02-26","2018-02-27","2018-02-28","2018-03-01","2018-03-02","2018-03-05","2018-03-06","2018-03-07","2018-03-08","2018-03-09","2018-03-12","2018-03-13","2018-03-14","2018-03-15","2018-03-16","2018-03-19","2018-03-20","2018-03-21","2018-03-22","2018-03-23","2018-03-26","2018-03-27","2018-03-28","2018-03-29","2018-04-02","2018-04-03","2018-04-04","2018-04-05","2018-04-06","2018-04-09","2018-04-10","2018-04-11","2018-04-12","2018-04-13","2018-04-16","2018-04-17","2018-04-18","2018-04-19","2018-04-20","2018-04-23","2018-04-24","2018-04-25","2018-04-26","2018-04-27","2018-04-30","2018-05-01","2018-05-02","2018-05-03","2018-05-04","2018-05-07","2018-05-08","2018-05-09","2018-05-10","2018-05-11","2018-05-14","2018-05-15","2018-05-16","2018-05-17","2018-05-18","2018-05-21","2018-05-22","2018-05-23","2018-05-24","2018-05-25","2018-05-29","2018-05-30","2018-05-31","2018-06-01","2018-06-04","2018-06-05","2018-06-06","2018-06-07","2018-06-08","2018-06-11","2018-06-12","2018-06-13","2018-06-14","2018-06-15","2018-06-18","2018-06-19","2018-06-20","2018-06-21","2018-06-22","2018-06-25","2018-06-26","2018-06-27","2018-06-28","2018-06-29","2018-07-02","2018-07-03","2018-07-05","2018-07-06","2018-07-09","2018-07-10","2018-07-11","2018-07-12","2018-07-13","2018-07-16","2018-07-17","2018-07-18","2018-07-19","2018-07-20","2018-07-23","2018-07-24","2018-07-25","2018-07-26","2018-07-27","2018-07-30","2018-07-31","2018-08-01","2018-08-02","2018-08-03","2018-08-06","2018-08-07","2018-08-08","2018-08-09","2018-08-10","2018-08-13","2018-08-14","2018-08-15","2018-08-16","2018-08-17","2018-08-20","2018-08-21","2018-08-22","2018-08-23","2018-08-24","2018-08-27","2018-08-28","2018-08-29","2018-08-30","2018-08-31","2018-09-04","2018-09-05","2018-09-06","2018-09-07","2018-09-10","2018-09-11","2018-09-12","2018-09-13","2018-09-14","2018-09-17","2018-09-18","2018-09-19","2018-09-20","2018-09-21","2018-09-24","2018-09-25","2018-09-26","2018-09-27","2018-09-28","2018-10-01","2018-10-02","2018-10-03","2018-10-04","2018-10-05","2018-10-08","2018-10-09","2018-10-10","2018-10-11","2018-10-12","2018-10-15","2018-10-16","2018-10-17","2018-10-18","2018-10-19","2018-10-22","2018-10-23","2018-10-24","2018-10-25","2018-10-26","2018-10-29","2018-10-30","2018-10-31","2018-11-01","2018-11-02","2018-11-05","2018-11-06","2018-11-07","2018-11-08","2018-11-09","2018-11-12","2018-11-13","2018-11-14","2018-11-15","2018-11-16","2018-11-19","2018-11-20","2018-11-21","2018-11-23","2018-11-26","2018-11-27","2018-11-28","2018-11-29","2018-11-30","2018-12-03","2018-12-04","2018-12-06","2018-12-07","2018-12-10","2018-12-11","2018-12-12","2018-12-13","2018-12-14","2018-12-17","2018-12-18","2018-12-19","2018-12-20","2018-12-21","2018-12-24","2018-12-26","2018-12-27","2018-12-28","2018-12-31"],"y":[82.599319,82.983727,83.714119,84.752014,84.838486,84.780838,84.396439,84.646286,86.107033,84.905762,86.625977,86.587547,86.49144,88.038666,88.317383,88.240479,88.730621,90.393173,90.258621,89.124626,91.306129,90.585373,88.202042,84.56942,87.769585,86.116646,81.695984,84.742393,85.655342,86.328072,87.679825,89.466042,88.828796,89.523979,88.336365,88.568108,90.817787,92.130898,90.952972,90.537788,89.649498,89.842606,90.41227,90.103294,90.62468,91.175034,93.212303,93.434364,91.155731,90.615021,90.933655,91.339172,89.68811,89.919838,89.292252,86.694969,84.17495,90.547447,86.386002,86.308754,88.123955,85.46875,86.617722,89.147423,89.195686,87.119804,87.641182,89.678459,88.693619,90.354324,89.871559,90.923996,92.758484,93.115746,92.797119,91.72538,92.063309,89.910179,89.128105,91.010887,92.51712,90.296387,91.72538,90.286751,90.827438,91.879868,92.90332,92.507462,93.598503,94.535065,94.332306,94.65094,93.965424,94.207832,93.267227,93.441765,94.644226,94.547249,95.672112,95.33271,95.381195,95.041794,95.953316,95.846657,97.73761,98.590965,99.095207,99.386124,97.824883,98.552162,97.989731,98.241867,97.795784,98.348526,97.097595,97.805489,97.805489,98.784904,98.077011,97.369118,95.410301,96.079399,94.586037,95.643021,95.623627,96.981239,96.050308,96.738808,98.096413,98.765503,99.027321,98.891571,101.034645,102.237091,101.732826,102.741348,101.93647,101.238289,103.051636,104.70018,104.399544,107.473549,106.300194,104.418945,102.178909,102.867409,103.061348,104.312279,104.768051,104.855316,105.582596,106.174126,106.348679,105.698975,104.932899,106.242012,104.801315,104.781845,104.723434,104.032303,103.165932,104.217239,104.703964,105.521667,106.689789,107.332291,109.04554,108.977402,109.347313,108.743774,105.609268,105.852623,105.336708,106.475639,108.28624,108.743774,109.911903,110.359695,109.162361,110.203934,108.734024,110.554382,111.226074,111.625175,111.411011,110.953514,111.372078,111.33313,112.54023,112.09243,112.1119,109.795097,109.152618,107.906609,109.279175,103.341148,103.097778,106.660583,104.742897,108.052628,107.770317,105.619011,105.774765,106.718994,105.229622,99.603111,105.424324,104.119904,101.092476,100.975662,103.973877,103.107498,103.341148,104.655296,104.859718,108.987129,108.782707,106.660583,104.032303,104.100433,102.624176,104.882553,105.869987,102.282005,99.437035,100.80574,100.76664,104.09066,104.745682,108.636749,107.727531,108.41188,109.58506,106.094833,106.749878,102.477531,105.185608,106.163269,106.642326,107.004051,103.660484,100.59066,101.646523,101.372787,99.241501,96.03479,92.026421,98.312729,98.918884,98.14653,99.300156],"name":"Microsoft","type":"scatter","mode":"lines","line":{"color":"blue","width":1},"marker":{"color":"rgba(255,127,14,1)","line":{"color":"rgba(255,127,14,1)"}},"error_y":{"color":"rgba(255,127,14,1)"},"error_x":{"color":"rgba(255,127,14,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2018-01-02","2018-12-31","2018-10-03"],"y":[41.51358,38.585068,56.569679],"type":"scatter","mode":"makers+markers","marker":{"color":"red","size":10,"line":{"color":"rgba(44,160,44,1)"}},"error_y":{"color":"rgba(44,160,44,1)"},"error_x":{"color":"rgba(44,160,44,1)"},"line":{"color":"rgba(44,160,44,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2018-01-02","2018-12-31","2018-10-01"],"y":[82.599319,99.300156,112.54023],"type":"scatter","mode":"makers+markers","marker":{"color":"blue","size":10,"line":{"color":"rgba(214,39,40,1)"}},"error_y":{"color":"rgba(214,39,40,1)"},"error_x":{"color":"rgba(214,39,40,1)"},"line":{"color":"rgba(214,39,40,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p>이번에는 목적 전달을 목표로 하는 시각화를 해보자. 기존의 시각화 역시 목적을 전달하는 목적이 있겠다만, 데이터 자체를 객관적으로 표현하기 때문에 목적을 전달하는데 명확하지 않다. Text옵션과 더불어서 위에서 표현 했던 Apple와 Microsort의 데이터의 특징을 잡아 보자.</p>
<div id="text-표시" class="section level3">
<h3>4-1. Text 표시</h3>
<p>우선 Text 표시 세팅을 해주어야한다. 텍스트는 Apple, Microsoft각각 처음부분, 최대값, 마지막 부분을 기준으로 추가 해주었다. 설정 방법은 다음과 같다. 옵션에 대한 설명중 특별한 사항만 소개 하도록 한다.</p>
<ul>
<li><code>x =</code> : Text데이터의 x좌표의 위치를 표시 한다.
<ul>
<li>apple_head: <code>df$Date[1]</code> (apple의 첫번째 날짜이므로 첫번째에 위치 시킨다)</li>
<li>apple_tail: <code>df$Date[251]</code> (apple의 마지막 날짜로, 마지막 인덱스를 주어 위치시킨다.)</li>
<li>apple_max: <code>df$Date[which.max(df$AAPL.Adjusted)]</code> (apple 주가의 최대값을 which.max()함수로 찾아 위치 시킨다.)</li>
</ul></li>
<li><code>y =</code> : Text데이터의 y좌표의 위치를 표시 한다.
<ul>
<li>apple_head: <code>df$AAPL.Adjusted[1]</code> (apple의 첫번째 날짜이므로 첫번째에 위치 시킨다)</li>
<li>apple_tail: <code>df$AAPL.Adjusted[251]</code> (apple의 마지막 날짜로, 마지막 인덱스를 주어 위치시킨다.)</li>
<li>apple_max: <code>df$AAPL.Adjusted[which.max(df$AAPL.Adjusted)]</code> (apple 주가의 최대값을 which.max()함수로 찾아 위치 시킨다.)</li>
</ul></li>
<li><code>xanchor =</code>, <code>yanchor =</code> : 좌표를 정햇으면 Text가 어디에 위치 하는지를 나타낸다.
<ul>
<li>right: 오른쪽에 위치 하는것이 아니라 <strong>점</strong>을 오른쪽에 두겠다는 의미 (즉, 왼쪽에 위치한다.)</li>
<li>left: <strong>점</strong>을 왼쪽에 두겠다는 의미 (즉, 오른쪽에 위치한다.)</li>
<li>meddle: <strong>점</strong>을 가운데 두겠다는 의미 (즉, 중간에 위치한다.)</li>
<li>bottom: <strong>점</strong>을 아래에 두겠다는 의미 (즉, 위에 위치한다.)</li>
<li>top: <strong>점</strong>을 위에 두겠다는 의미 (즉, 아래에 위치한다.)</li>
</ul></li>
</ul>
<pre class="r"><code>apple_head &lt;- list(
  xref = &#39;x&#39;,
  yref = &#39;y&#39;,
  x = df$Date[1],
  y = df$AAPL.Adjusted[1],
  xanchor = &#39;right&#39;,
  yanchor = &#39;middle&#39;,
  text = ~paste(&quot;Apple \n&quot;, Date[1] ,&#39;\n&#39;, round(AAPL.Adjusted[1],3)),
  font = list(family = &#39;Arial&#39;,
              size = 16,
              color = &#39;rgba(67,67,67,1)&#39;),
  showarrow = FALSE)

apple_tail &lt;- list(
  xref = &#39;x&#39;,
  yref = &#39;y&#39;,
  x = df$Date[251],
  y = df$AAPL.Adjusted[251],
  xanchor = &#39;left&#39;,
  yanchor = &#39;middle&#39;,
  text = ~paste(&quot;Apple \n&quot;, Date[251] ,&#39;\n&#39;, round(AAPL.Adjusted[251],3)),
  font = list(family = &#39;Arial&#39;,
              size = 16,
              color = &#39;rgba(67,67,67,1)&#39;),
  showarrow = FALSE)

apple_max &lt;- list(
  xref = &#39;x&#39;,
  yref = &#39;y&#39;,
  x = df$Date[which.max(df$AAPL.Adjusted)],
  y = df$AAPL.Adjusted[which.max(df$AAPL.Adjusted)],
  xanchor = &#39;middle&#39;,
  yanchor = &#39;bottom&#39;,
  text = ~paste(&quot;Apple Max \n&quot;, Date[which.max(df$AAPL.Adjusted)] ,&#39;\n&#39;, round(AAPL.Adjusted[which.max(df$AAPL.Adjusted)],3)),
  font = list(family = &#39;Arial&#39;,
              size = 16,
              color = &#39;rgba(67,67,67,1)&#39;),
  showarrow = FALSE)

microsoft_head &lt;- list(
  xref = &#39;x&#39;,
  yref = &#39;y&#39;,
  x = df$Date[1],
  y = df$MSFT.Adjusted[1],
  xanchor = &#39;right&#39;,
  yanchor = &#39;middle&#39;,
  text = ~paste(&quot;Microsoft \n&quot;, Date[1] ,&#39;\n&#39;, round(MSFT.Adjusted[1],3)),
  font = list(family = &#39;Arial&#39;,
              size = 16,
              color = &#39;rgba(67,67,67,1)&#39;),
  showarrow = FALSE)

microsoft_tail &lt;- list(
  xref = &#39;x&#39;,
  yref = &#39;y&#39;,
  x = df$Date[251],
  y = df$MSFT.Adjusted[251],
  xanchor = &#39;left&#39;,
  yanchor = &#39;middle&#39;,
  text = ~paste(&quot;Microsoft \n&quot;, Date[251] ,&#39;\n&#39;, round(MSFT.Adjusted[251],3)),
  font = list(family = &#39;Arial&#39;,
              size = 16,
              color = &#39;rgba(67,67,67,1)&#39;),
  showarrow = FALSE)

microsoft_max &lt;- list(
  xref = &#39;x&#39;,
  yref = &#39;y&#39;,
  x = df$Date[which.max(df$MSFT.Adjusted)],
  y = df$MSFT.Adjusted[which.max(df$MSFT.Adjusted)],
  xanchor = &#39;middle&#39;,
  yanchor = &#39;bottom&#39;,
  text = ~paste(&quot;Microsoft Max \n&quot;, Date[which.max(df$MSFT.Adjusted)] ,&#39;\n&#39;, round(MSFT.Adjusted[which.max(df$MSFT.Adjusted)],3)),
  font = list(family = &#39;Arial&#39;,
              size = 16,
              color = &#39;rgba(67,67,67,1)&#39;),
  showarrow = FALSE)</code></pre>
</div>
<div id="plotly-시각화" class="section level3">
<h3>4-2. Plotly 시각화</h3>
<p>Text 옵션을 미리 정해 주었으니 이제 그래프를 그려보자. 우선 선 그래프는 그려놓았으며, 점을 추가 하고 배경을 없애는 과정을 거친 후 텍스트 옵션을 추가 해준다.</p>
<div id="a-점-추가" class="section level4">
<h4>a) 점 추가</h4>
<p>위의 Text옵션과 같이 각각의 점을 추가 해주자. 각각 처음, 마지막, 최대값을 위치 시켜 점을 추가 해주었다.</p>
<pre><code>add_trace(x = ~c(Date[1], Date[251], Date[which.max(AAPL.Adjusted)]), 
            y = ~c(AAPL.Adjusted[1], AAPL.Adjusted[251], AAPL.Adjusted[which.max(AAPL.Adjusted)]), 
            type = &quot;scatter&quot;, mode=&quot;makers&quot;, marker = list(size = 10, color = &quot;red&quot;)) %&gt;% 
add_trace(x = ~c(Date[1], Date[251], Date[which.max(MSFT.Adjusted)]), 
            y = ~c(MSFT.Adjusted[1], MSFT.Adjusted[251], MSFT.Adjusted[which.max(MSFT.Adjusted)]), 
            type = &quot;scatter&quot;, mode=&quot;makers&quot;,  marker = list(size = 10, color = &quot;blue&quot;)) %&gt;% </code></pre>
</div>
<div id="b-배경-설정" class="section level4">
<h4>b) 배경 설정</h4>
<p>title을 설정 해주고, xaxis,yaxis, showlegend각각 옵션에 아래와 같은 설정을 해주도록 한다.</p>
<pre><code>  layout(
    title = &quot;Apple과 Microsoft 주식 변화&quot;, 
    xaxis = list(showgrid = FALSE),
    yaxis = list(title = &quot;&quot;, showgrid = FALSE),
    showlegend = FALSE
  )</code></pre>
</div>
<div id="c-text-옵션-추가" class="section level4">
<h4>c) Text 옵션 추가</h4>
<p>이제 마지막으로 Text옵션을 추가 해주는 단계를 가져주자. 위의 Text 옵션을 만들어 주었으며, 각각 layout를 추가 해준뒤 annotations에 각각 추가 해주면 된다.</p>
<pre><code>  layout(
    annotations = apple_max
  ) %&gt;% 
  layout(
    annotations = microsoft_head
  ) %&gt;% 
  layout(
    annotations = microsoft_tail
  ) %&gt;% 
  layout(
    annotations = microsoft_max
  )</code></pre>
</div>
<div id="d-목적-전달형-시각화의-최종-코드" class="section level4">
<h4>d) 목적 전달형 시각화의 최종 코드</h4>
<ol start="4" style="list-style-type: decimal">
<li>목적 전달형 시각화의 최종 코드는 다음과 같다.</li>
</ol>
<pre class="r"><code>apple_head &lt;- list(
  xref = &#39;x&#39;,
  yref = &#39;y&#39;,
  x = df$Date[1],
  y = df$AAPL.Adjusted[1],
  xanchor = &#39;right&#39;,
  yanchor = &#39;middle&#39;,
  text = ~paste(&quot;Apple \n&quot;, Date[1] ,&#39;\n&#39;, round(AAPL.Adjusted[1],3)),
  font = list(family = &#39;Arial&#39;,
              size = 16,
              color = &#39;rgba(67,67,67,1)&#39;),
  showarrow = FALSE)

apple_tail &lt;- list(
  xref = &#39;x&#39;,
  yref = &#39;y&#39;,
  x = df$Date[251],
  y = df$AAPL.Adjusted[251],
  xanchor = &#39;left&#39;,
  yanchor = &#39;middle&#39;,
  text = ~paste(&quot;Apple \n&quot;, Date[251] ,&#39;\n&#39;, round(AAPL.Adjusted[251],3)),
  font = list(family = &#39;Arial&#39;,
              size = 16,
              color = &#39;rgba(67,67,67,1)&#39;),
  showarrow = FALSE)

apple_max &lt;- list(
  xref = &#39;x&#39;,
  yref = &#39;y&#39;,
  x = df$Date[which.max(df$AAPL.Adjusted)],
  y = df$AAPL.Adjusted[which.max(df$AAPL.Adjusted)],
  xanchor = &#39;middle&#39;,
  yanchor = &#39;bottom&#39;,
  text = ~paste(&quot;Apple Max \n&quot;, Date[which.max(df$AAPL.Adjusted)] ,&#39;\n&#39;, round(AAPL.Adjusted[which.max(df$AAPL.Adjusted)],3)),
  font = list(family = &#39;Arial&#39;,
              size = 16,
              color = &#39;rgba(67,67,67,1)&#39;),
  showarrow = FALSE)

microsoft_head &lt;- list(
  xref = &#39;x&#39;,
  yref = &#39;y&#39;,
  x = df$Date[1],
  y = df$MSFT.Adjusted[1],
  xanchor = &#39;right&#39;,
  yanchor = &#39;middle&#39;,
  text = ~paste(&quot;Microsoft \n&quot;, Date[1] ,&#39;\n&#39;, round(MSFT.Adjusted[1],3)),
  font = list(family = &#39;Arial&#39;,
              size = 16,
              color = &#39;rgba(67,67,67,1)&#39;),
  showarrow = FALSE)

microsoft_tail &lt;- list(
  xref = &#39;x&#39;,
  yref = &#39;y&#39;,
  x = df$Date[251],
  y = df$MSFT.Adjusted[251],
  xanchor = &#39;left&#39;,
  yanchor = &#39;middle&#39;,
  text = ~paste(&quot;Microsoft \n&quot;, Date[251] ,&#39;\n&#39;, round(MSFT.Adjusted[251],3)),
  font = list(family = &#39;Arial&#39;,
              size = 16,
              color = &#39;rgba(67,67,67,1)&#39;),
  showarrow = FALSE)

microsoft_max &lt;- list(
  xref = &#39;x&#39;,
  yref = &#39;y&#39;,
  x = df$Date[which.max(df$MSFT.Adjusted)],
  y = df$MSFT.Adjusted[which.max(df$MSFT.Adjusted)],
  xanchor = &#39;middle&#39;,
  yanchor = &#39;bottom&#39;,
  text = ~paste(&quot;Microsoft Max \n&quot;, Date[which.max(df$MSFT.Adjusted)] ,&#39;\n&#39;, round(MSFT.Adjusted[which.max(df$MSFT.Adjusted)],3)),
  font = list(family = &#39;Arial&#39;,
              size = 16,
              color = &#39;rgba(67,67,67,1)&#39;),
  showarrow = FALSE)


df %&gt;% 
  plot_ly() %&gt;% 
  add_trace(x = ~Date, y = ~AAPL.Adjusted, name = &quot;Apple&quot;, 
            type = &quot;scatter&quot;,  mode = &quot;lines&quot;, line = list(width = 1, color = &quot;red&quot;)) %&gt;% 
  add_trace(x = ~Date, y = ~MSFT.Adjusted, name = &quot;Microsoft&quot;, 
            type = &quot;scatter&quot;,  mode = &quot;lines&quot;, line = list(width = 1, color = &quot;blue&quot;)) %&gt;% 
  add_trace(x = ~c(Date[1], Date[251], Date[which.max(AAPL.Adjusted)]), 
            y = ~c(AAPL.Adjusted[1], AAPL.Adjusted[251], AAPL.Adjusted[which.max(AAPL.Adjusted)]), 
            type = &quot;scatter&quot;, mode=&quot;makers&quot;, marker = list(size = 10, color = &quot;red&quot;)) %&gt;% 
  add_trace(x = ~c(Date[1], Date[251], Date[which.max(MSFT.Adjusted)]), 
            y = ~c(MSFT.Adjusted[1], MSFT.Adjusted[251], MSFT.Adjusted[which.max(MSFT.Adjusted)]), 
            type = &quot;scatter&quot;, mode=&quot;makers&quot;,  marker = list(size = 10, color = &quot;blue&quot;)) %&gt;% 
  layout(
    title = &quot;Apple과 Microsoft 주식 변화&quot;, 
    xaxis = list(showgrid = FALSE),
    yaxis = list(title = &quot;&quot;, showgrid = FALSE),
    showlegend = FALSE
  ) %&gt;% layout(
    annotations = apple_head
  ) %&gt;% layout(
    annotations = apple_tail
  ) %&gt;% 
  layout(
    annotations = apple_max
  ) %&gt;% 
  layout(
    annotations = microsoft_head
  ) %&gt;% 
  layout(
    annotations = microsoft_tail
  ) %&gt;% 
  layout(
    annotations = microsoft_max
  )</code></pre>
</div>
</div>
</div>
<div id="총평" class="section level1">
<h1>총평</h1>
<p>이번에는 Plotly의 Line Chart를 자세하게 알아 보았다. Plotly를 효과적으로 사용하기 위해서는 아직 더 알아야 할 것을이 많으며, 다음 Bar Chart를 소개하면서 추가적으로 소개 하고 Plotly의 전반적인 블로깅은 마무리 하도록 해야 겠다.</p>
</div>
